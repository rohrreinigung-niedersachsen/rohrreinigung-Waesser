
(function(window,document){"use strict";var original_data={};var data_storage={};var data_bio={};var last_key={};var current_position={};var $grid;var env_urls=skGetEnvironmentUrls('instagram-feed');var app_url=env_urls.app_url;var app_backend_url=env_urls.app_backend_url;var app_file_server_url=env_urls.app_file_server_url;var sk_img_url=env_urls.sk_img_url;var sk_app_url=env_urls.sk_app_url;var sk_api_url=env_urls.sk_api_url;var el=document.getElementsByClassName('sk-instagram-feed')[0];if(el==undefined){var el=document.getElementsByClassName('dsm-instagram-feed')[0];el.className="sk-instagram-feed";}
var embed_id=document.getElementsByClassName("sk-instagram-feed")[0].getAttribute("data-embed-id");el.innerHTML="<div class='first_loading_animation' style='text-align:center; width:100%;'><img src='"+app_url+"images/ripple.svg' class='loading-img' style='width:auto !important; float:none !important; text-align:center !important; border:none !important;' /></div>";loadCssFile(app_url+"instagram-feed/styles.css?v="+(new Date()).getTime());loadCssFile(app_url+"libs/js/swiper/swiper.min.css");loadCssFile(app_url+"libs/js/swiper/swiper.css");loadCssFile(app_url+"libs/js/magnific-popup/magnific-popup.css");loadCssFile("https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css");function loadCssFile(filename){var fileref=document.createElement("link");fileref.setAttribute("rel","stylesheet");fileref.setAttribute("type","text/css");fileref.setAttribute("href",filename);if(typeof fileref!="undefined"){document.getElementsByTagName("head")[0].appendChild(fileref)}}
if((window.jQuery===undefined||window.jQuery.fn.jquery!=='2.1.1')&&!window.location.href.includes('dolceriaalba')&&!window.location.href.includes('pantheonsite')&&!window.location.href.includes('alabamaag')&&!window.location.href.includes('lagoo.ch')&&!window.location.href.includes('zaferinadigital.com')&&!window.location.href.includes('lakeshoreapartments')){var script_tag=document.createElement('script');script_tag.setAttribute("type","text/javascript");script_tag.setAttribute("src","https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js");if(script_tag.readyState){script_tag.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){scriptLoadHandler();}};}else{script_tag.onload=scriptLoadHandler;}
(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(script_tag);}else{jQuery=window.jQuery;scriptLoadHandler();}
function loadScript(url,callback){var scriptTag=document.createElement('script');scriptTag.setAttribute("type","text/javascript");scriptTag.setAttribute("src",url);if(typeof callback!=="undefined"){if(scriptTag.readyState){scriptTag.onreadystatechange=function(){if(this.readyState==='complete'||this.readyState==='loaded'){callback();}};}else{scriptTag.onload=callback;}}
(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(scriptTag);}
function scriptLoadHandler(){if(window.location.href.includes('lusgold')){var widget_id=jQuery(".sk-instagram-feed").attr("data-embed-id");jQuery(".sk-instagram-feed").remove();jQuery('#main').prepend("<div class='sk-instagram-feed' data-embed-id='"+widget_id+"'></div>");}
loadScript(app_url+"libs/js/magnific-popup/jquery.magnific-popup.js",function(){loadScript(app_url+"libs/js/website_test_fix.js?v=2",function(){loadScript(app_url+"libs/js/masonry/masonry4.2.2.min.js",function(){loadScript(app_url+"libs/js/swiper/swiper.min.js",function(){loadScript(app_url+"libs/js/moment2.30.1.min.js",function(){initManificPopupPlugin(jQuery);main();});});});});});}
function applyMasonry(sk_instagram_feed){$grid=new Masonry('.sk-ig-all-posts',{itemSelector:'.sk-instagram-feed-item',columnWidth:'.sk-instagram-feed-item-sizer',percentPosition:true,transitionDuration:0});}
function fixMasonry(){for(var i=0;i<=20;i++){setTimeout(function(){applyMasonry();},500*i);}}
function abbreviateNumber(number){var decimal_places=Math.pow(10,1);var abreviation=["K","M","B"];for(var i=abreviation.length-1;i>=0;i--){var size=Math.pow(10,(i+1)*3);if(size<=number){var number=Math.round(number*decimal_places/size)/decimal_places;if((number==1000)&&(i<abreviation.length-1)){number=1;i++;}
number+=abreviation[i];break;}}
return number;}
function formatNumber(num){return num.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,'$1,')}
function getDsmEmbedId(sk_instagram_feed){var embed_id=sk_instagram_feed.attr('embed-id');if(embed_id==undefined){embed_id=sk_instagram_feed.attr('data-embed-id');}
return embed_id;}
function getDsmSetting(sk_instagram_feed,key){return sk_instagram_feed.find("."+key).text();}
function replaceContentWithLinks(html){if(html.hasClass("linked")){return;}
html.addClass("linked");var text=html.html();if(text){text=text.replace(/(\r\n|\n\r|\r|\n)/g," <br> ");text=text.replace('#',' #');text=text.replace('>@','> @');var splitted_text=text.split(' ');if(splitted_text&&splitted_text.length>0){jQuery.each(splitted_text,function(key,value){if(value.charAt(0)=="#"){var original_text=value.replace('#','');text=text.replace(' '+value,' <a target="_blank" href="https://instagram.com/explore/tags/'+original_text+'">'+value+'</a>');}
else if(value.length==1){}
else if(value.charAt(0)=="@"){var original_text=value.replace('@','');if(original_text=="djsammy86"){text=text.replace(' '+value,' <a target="_blank" href="https://twitter.com/'+original_text+'">'+value+'</a>');}
else if(value.includes('!')){value=value.replace('!','');original_text=original_text.replace('!','');text=text.replace(' '+value,' <a target="_blank" href="https://instagram.com/'+original_text+'">'+value+'</a>');}
else{text=text.replace(' '+value,' <a target="_blank" href="https://instagram.com/'+original_text+'">'+value+'</a>');}}
else if(value.indexOf('www')!=-1&&value.indexOf('href')==-1&&value.indexOf('src')==-1){var original_text=value.replace('@','');text=text.replace(' '+value,' <a target="_blank" href="'+original_text+'">'+original_text+'</a>');}
else if(value.indexOf('https')!=-1&&value.indexOf('href')==-1&&value.indexOf('src')==-1){var original_text=value.replace('@','');text=text.replace(' '+value,' <a target="_blank" href="'+original_text+'">'+original_text+'</a>');}});}
html.html(text);}}
function openLinkTab(){var open_link=jQuery('.sk-instagram-feed').find('.open_link_in_new_tab').text()==1?"_blank":"_parent";return open_link;}
function readFreshContent(clicked_element){var code=clicked_element.attr('data-code');var data_type=clicked_element.attr('data-type');var video_url=clicked_element.attr('video-url');if(jQuery(document).width()>700){var sk_loading_image_height=jQuery('.ig_media').height();jQuery('.sk_popup_column').height(sk_loading_image_height);}
if(!code||code==""||code.length<1){return 0;}
var sk_instagram_feed=jQuery('.sk-instagram-feed');var embed_id=getDsmEmbedId(sk_instagram_feed);var feed_item_container=jQuery('.sk-media-post-container-'+code).find('.sk_popup_column_media');var read_one_url=app_url+"embed/instagram-feed/widget_read_one_json.php?code="+code+"&embed_id="+embed_id;if(feed_item_container.hasClass('data-loaded')){initializeSwiperSingleSLider();return;}
if(feed_item_container.find('.swiper-container').length==0){var thumbnail_src=feed_item_container.find('.sk-image-sizer').attr('src');var video_thumbnail_src=clicked_element.find('.sk-img-sizer').attr('src');var post_items="<div class='sk_loading_image' style='height:100%;'>";if(data_type=='video'&&video_url&&!video_url.includes('.jpg')){if(video_url!=""){if(thumbnail_src&&thumbnail_src!=undefined&&thumbnail_src!=null){post_items+="<img src='"+thumbnail_src+"' class='ig_media sk-img-preloader' style='height:auto; vertical-align: middle;object-fit: contain;'>";}
post_items+="<p class='sk-loader' style='font-size:90px;'><i class='fa fa-spinner fa-pulse' aria-hidden='true'></i></p>";post_items+="<video class='ig_media sk-ig-video' style='width:100%; height: 100%; display:none;' controls>";post_items+="<source src='"+video_url+"' type='video/mp4'>";post_items+="Your browser does not support HTML5 video.";post_items+="</video>";}}
else{if(clicked_element.find(".fa-files-o").length>0){post_items+="<a data-toggle='tooltip' data-placement='top' title='View on Instagram' class='sk-ig-play-btn sk-ig-play-btn-popup' target='_blank' href='https://www.instagram.com/p/"+code+"'><i class='fa fa fa-files-o' aria-hidden='true'></i></a>";}
else if(clicked_element.find(".fa-play-circle").length>0){post_items+="<a data-toggle='tooltip' data-placement='top' title='View on Instagram' class='sk-ig-play-btn sk-ig-play-btn-popup' target='_blank' href='https://www.instagram.com/p/"+code+"'><i class='fa fa-play-circle' aria-hidden='true'></i></a>";}
if(data_type=='video'){post_items+="<img src='"+video_thumbnail_src+"' class='ig_media' style='height:auto;    vertical-align: middle;object-fit: contain;'>";}else{post_items+="<img src='"+thumbnail_src+"' class='ig_media' style='height:auto;    vertical-align: middle;object-fit: contain;'>";}}
post_items+="</div>";feed_item_container.find('.sk-image-sizer').hide();feed_item_container.html(post_items);loadVideo();}
setTimeout(function(){initializeSwiperSingleSLider();},100);feed_item_container.addClass('data-loaded');}
async function compressedImage(sk_instagram_feed,posts){var new_data=[];for(let item of posts){if(item&&item.image_url){await fetch(item.image_url).then(response=>response.blob()).then(blob=>{const url=URL.createObjectURL(blob);item.image_url=url;new_data.push(item);});}
else{new_data.push(item);}}
if(new_data&&new_data.length){return new_data;}
return posts;}
function loadVideo(){if(jQuery('.ig_media').attr('src')=='undefined'){jQuery('.sk-img-preloader').attr('src','https://w0.peakpx.com/wallpaper/310/869/HD-wallpaper-black-screen-space.jpg');}
setTimeout(()=>{jQuery(".sk-loader, .sk-img-preloader").css({display:"none"});},2000);if(jQuery(document).width()>700){var box_hight=jQuery('.mfp-container').height();var height_align=((box_hight)*7)/100;jQuery(".sk-ig-video").css({display:"block"});jQuery(".sk_popup_column").css({display:"block"});jQuery(".ig_media").css({display:"block"});jQuery(".mfp-wrap").animate({opacity:1},1000);}}
function getScrollbarWidth(){const outer=document.createElement('div');outer.style.visibility='hidden';outer.style.overflow='scroll';outer.style.msOverflowStyle='scrollbar';document.body.appendChild(outer);const inner=document.createElement('div');outer.appendChild(inner);const scrollbarWidth=(outer.offsetWidth-inner.offsetWidth);outer.parentNode.removeChild(outer);return scrollbarWidth;}
function moderationTabFeature(sk_instagram_feed,setting_turnon_preapproval_posts,posts){var preapproved_posts="do_not_show_anything";var excluded_posts="";var exclude_users="";if(setting_turnon_preapproval_posts==1){preapproved_posts=getDsmSetting(sk_instagram_feed,"preapproved_posts");}
if(getDsmSetting(sk_instagram_feed,"excluded_posts")!=""){excluded_posts=getDsmSetting(sk_instagram_feed,"excluded_posts");}
else if(getDsmSetting(sk_instagram_feed,"exclude_users")!=""){exclude_users=getDsmSetting(sk_instagram_feed,"exclude_users");}
var new_posts_list=[];for(let item of posts){if(typeof item!='undefined'){if(setting_turnon_preapproval_posts==1){if(preapproved_posts.indexOf(item.code)!=-1){new_posts_list.push(item);}}
else{if(setting_turnon_preapproval_posts==0&&excluded_posts.indexOf(item.code)!=-1){}
else if(setting_turnon_preapproval_posts==0&&exclude_users&&exclude_users.indexOf(item.owner_id)!=-1){}
else{new_posts_list.push(item);}}}};return new_posts_list;}
function HashtagFilter(data_storage,hashtag){var new_posts_lists=[];hashtag="#"+hashtag;jQuery.each(data_storage,function(index,value){if(value.pic_text_raw&&value.pic_text_raw.toLowerCase().indexOf(hashtag.toLowerCase())!=-1){new_posts_lists.push(value);}
else if(value.post_id&&value.post_id.indexOf(hashtag)!=-1){new_posts_lists.push(value);}});return new_posts_lists;}
function replaceHttpToLink(content)
{var exp_match=/(\b(https?|):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;var element_content=content.replace(exp_match,'<a class="href_status_trigger hide-link" target="_blank" href="$1">$1</a>');var new_exp_match=/(^|[^\/])(www\.[\S]+(\b|$))/gim;var new_content=element_content.replace(new_exp_match,'$1<a class="href_status_trigger hide-link" target="_blank" href="http://$2">$2</a>');return new_content;}
function sortPostsBy(sk_instagram_feed,data){var order_by=getDsmSetting(sk_instagram_feed,'order_by');var new_posts_list=[];if(data){switch(order_by){case'0':data.sort(function(a,b){return new Date(b.date_time_posted).getTime()-new Date(a.date_time_posted).getTime();});new_posts_list.push(...data);break;case'1':var pinned=data.filter(post=>post.is_pinned&&post.is_pinned==1);var unpinned=data.filter(post=>!post.is_pinned||post.is_pinned==0);new_posts_list.push(...pinned);if(pinned.length>1){new_posts_list.sort((a,b)=>a.order-b.order);}
new_posts_list.push(...unpinned);break;default:data.sort(function(a,b){return new Date(b.date_time_posted).getTime()-new Date(a.date_time_posted).getTime();});new_posts_list.push(...data);break;}}
return new_posts_list;}
function changeVersion(sk_instagram_feed,posts){var new_posts_list=[];for(let item of posts){if(typeof item!=='undefined'){if(item.image_url){item.image_url=updateUrl(sk_instagram_feed,item.image_url);}
if(item.thumbnail_url){item.thumbnail_url=updateUrl(sk_instagram_feed,item.thumbnail_url);}
new_posts_list.push(item);}}
return new_posts_list;}
function updateUrl(sk_instagram_feed,url){var widget_version=getDsmSetting(sk_instagram_feed,"widget_version");if(url){if(url.includes('?v=')){url=url.substring(0,url.indexOf('?v='));return url+"?v="+widget_version;}else{return url+"?nocache="+(new Date()).getTime();}}
return url;}
function loadBioInformation(sk_instagram_feed,data){var show_profile_picture=sk_instagram_feed.find('.show_profile_picture').text();var show_profile_username=sk_instagram_feed.find('.show_profile_username').text();var show_profile_follow_button=sk_instagram_feed.find('.show_profile_follow_button').text();var show_profile_posts_count=sk_instagram_feed.find('.show_profile_posts_count').text();var show_profile_follower_count=sk_instagram_feed.find('.show_profile_follower_count').text();var show_profile_following_count=sk_instagram_feed.find('.show_profile_following_count').text();var show_profile_name=sk_instagram_feed.find('.show_profile_name').text();var show_profile_description=sk_instagram_feed.find('.show_profile_description').text();var show_profile_website=sk_instagram_feed.find('.show_profile_website').text();var posts_text=sk_instagram_feed.find('.posts_text').text();var followers_text=sk_instagram_feed.find('.followers_text').text();var following_text=sk_instagram_feed.find('.following_text').text();var follow_text=sk_instagram_feed.find('.follow_text').text();var media_count=data.bio.media?formatNumber(data.bio.media):0;media_count=data.bio.posts_count?formatNumber(data.bio.posts_count):media_count;var follows_count=data.bio.follows?formatNumber(data.bio.follows):0;follows_count=data.bio.following_count?formatNumber(data.bio.following_count):follows_count;var followed_by_number=data.bio.followed_by?formatNumber(data.bio.followed_by):0;followed_by_number=data.bio.followers_count?formatNumber(data.bio.followers_count):followed_by_number;var post_items="";if(show_profile_picture==0&&show_profile_username==0&&show_profile_follow_button==0&&show_profile_posts_count==0&&show_profile_follower_count==0&&show_profile_following_count==0&&show_profile_name==0&&show_profile_description==0&&show_profile_website==0){}else{var is_slider_layout="";if(getDsmSetting(sk_instagram_feed,'layout')==3){is_slider_layout="sk-slider-layout-info";}
post_items+="<div class='instagram-user-root-container "+is_slider_layout+"'>";var width="style='width:100%;'";data.bio.username=data.bio.username?data.bio.username:getDsmSetting(sk_instagram_feed,'username');if(show_profile_picture==1){var width="";const picSrc=data.bio.user_profile;post_items+="<div class='sk-instagram-profile-pic_container'>";post_items+="<img crossorigin='anonymous' src='"+picSrc+"' alt='sk-inst-profile-picture'>";post_items+="</div>";}
post_items+="<div class='sk-ig-profile-info ' "+width+">";post_items+="<div class='sk_ig_feed_username_follow'>";if(show_profile_username==1){post_items+="<a class='href_status_trigger' href='https://www.instagram.com/"+data.bio.username+"/' target='"+openLinkTab()+"'><p class='sk-ig-profile-usename' style='color:rgb(85, 85, 85);'>@"+data.bio.username;if(data.bio.is_verified){post_items+="<svg class='sk-ww-is-verified' aria-label='Verified' color='rgb(0, 149, 246)' fill='rgb(0, 149, 246)' height='18' role='img' viewBox='0 0 40 40' width='18'><title>Verified</title><path d='M19.998 3.094 14.638 0l-2.972 5.15H5.432v6.354L0 14.64 3.094 20 0 25.359l5.432 3.137v5.905h5.975L14.638 40l5.36-3.094L25.358 40l3.232-5.6h6.162v-6.01L40 25.359 36.905 20 40 14.641l-5.248-3.03v-6.46h-6.419L25.358 0l-5.36 3.094Zm7.415 11.225 2.254 2.287-11.43 11.5-6.835-6.93 2.244-2.258 4.587 4.581 9.18-9.18Z' fill-rule='evenodd'></path></svg>";}
post_items+="</p></a>";}
post_items+="</div>";if((media_count!=0&&show_profile_posts_count==1)||(followed_by_number!=0&&show_profile_follower_count==1)||(follows_count!=0&&show_profile_following_count==1)){post_items+="<div class='sk-ig-profile-counts'>";if(media_count!=0&&show_profile_posts_count==1){post_items+="<span class='sk-ig-profile-count-item' title='"+media_count+"'><span class='f-w-b'>"+media_count+"</span> "+posts_text+"</span>";}
if(followed_by_number!=0&&show_profile_follower_count==1){post_items+="<span class='sk-ig-profile-count-item' title='"+followed_by_number+"'><span class='f-w-b'>"+followed_by_number+"</span> "+followers_text+"</span>";}
if(follows_count!=0&&show_profile_following_count==1){post_items+="<span class='sk-ig-profile-count-item' title='"+follows_count+"'><span class='f-w-b'>"+follows_count+"</span> "+following_text+"</span>";}
post_items+="</div>";}
if(show_profile_name==1||show_profile_description==1||show_profile_website==1||show_profile_follow_button==1){post_items+="<div class='href_status_trigger_container bio-description'>";post_items+="<div class='sk-ig-profile-bio-container'>";if(show_profile_name==1&&data.bio.full_name){post_items+="<strong>"+data.bio.full_name+"</strong>";}
if(show_profile_description==1&&data.bio.biography){post_items+="<b> &bull;</b> <span class='sk-ig-profile-bio'>"+data.bio.biography+"</span>";}
post_items+="</div>";if(show_profile_website==1&&data.bio.website_link){var display_url=data.bio.website;if(data.bio.username=="tacosupply"){display_url="linktr.ee/mcdevitttacosupply";}
post_items+="<div><a class='bio-website' href='"+data.bio.website_link+"' target='"+openLinkTab()+"'>"+display_url+"</a></div>";}else if(show_profile_website==1&&data.bio.external_url){var display_url=data.bio.external_url;if(data.bio.username=="tacosupply"){display_url="linktr.ee/mcdevitttacosupply";}
post_items+="<div><a class='bio-website' href='"+data.bio.external_url+"' target='"+openLinkTab()+"'>"+display_url+"</a></div>";}
if(show_profile_follow_button==1){post_items+="<button type='button' onclick=\"window.open('https://www.instagram.com/"+data.bio.username+"/');\" class='instagram-user-container'>";post_items+="<span style='font-family: FontAwesome !important; margin-right: 5px;' aria-hidden='true'>&#xf16d;</span>"+follow_text;post_items+="</button>";}
post_items+="</div>";}
post_items+="</div>";post_items+="</div>";}
return post_items;}
async function loadFeed(sk_instagram_feed){var embed_id=getDsmEmbedId(sk_instagram_feed);var show_load_more_button=sk_instagram_feed.find('.show_load_more_button').text();var load_more_posts_text=sk_instagram_feed.find('.load_more_posts_text').text();var turnon_preapproval_posts=getDsmSetting(sk_instagram_feed,"turnon_preapproval_posts");var predefined_search_keyword=getDsmSetting(sk_instagram_feed,"predefined_search_keyword");var data=original_data[embed_id];console.log(data);if(data.user_info&&data.user_info.show_feed==false){sk_instagram_feed.prepend(data.user_info.message);sk_instagram_feed.find('.loading-img').hide();sk_instagram_feed.find('.first_loading_animation').hide();sk_instagram_feed.find('.sk_fb_events_options').hide();}
else if(!data.bio&&!data.posts){generateSolutionMessage(sk_instagram_feed,embed_id);return;}
else if(!data.bio.username&&data.posts.length<1){generateSolutionMessage(sk_instagram_feed,embed_id);return;}
else{var post_items="<div class='sk-ww-ig-feed-container'>";data_bio[embed_id]={};if(data.bio&&data.bio.username){data.bio.user_profile=data.bio.user_profile?data.bio.user_profile:data.bio.profile_sk_img;post_items+=loadBioInformation(sk_instagram_feed,data);}
data_storage[embed_id]=data.posts;if(data_storage[embed_id]&&data.posts){data_storage[embed_id]=moderationTabFeature(sk_instagram_feed,turnon_preapproval_posts,data_storage[embed_id]);data_storage[embed_id]=sortPostsBy(sk_instagram_feed,data_storage[embed_id]);}
if(predefined_search_keyword!=""){data_storage[embed_id]=HashtagFilter(data_storage[embed_id],predefined_search_keyword);}
if(embed_id==68772){}
if(getDsmSetting(sk_instagram_feed,'widget_version')){data.posts=changeVersion(sk_instagram_feed,data.posts);}
if(data.posts&&data.posts.length==0||data.bio&&data.posts==null){post_items+="<div class='sk-no-item-found'>No posts yet.</div>";}
else if(getDsmSetting(sk_instagram_feed,'layout')==3){last_key[embed_id]=data_storage[embed_id].length;post_items+=loadSliderLayout(sk_instagram_feed,data);}
else{var data_position=0;post_items+="<div class='sk-ig-all-posts'>";post_items+="<div class='sk-instagram-feed-item-sizer' style='width:50%;'></div>";var enable_button=false;last_key[embed_id]=parseInt(getDsmSetting(sk_instagram_feed,'post_count'));for(var i=0;i<last_key[embed_id];i++){if(typeof data_storage[embed_id][i]!='undefined'){post_items+=getFeedItem(data_storage[embed_id][i],sk_instagram_feed,data_position);data_position++;}}
if(data_storage[embed_id].length>last_key[embed_id]){enable_button=true;}
post_items+="</div>";if(enable_button&&show_load_more_button==1){post_items+="<div class='sk-ig-bottom-btn-container'>";post_items+="<button type='button' class='sk-ig-load-more-posts'>"+load_more_posts_text+"</button>";post_items+="</div>";}}
post_items+=skGetBranding(sk_instagram_feed,data.user_info);sk_instagram_feed.append(post_items);if(data.bio&&data.bio.username){var identifier=data.bio.username;var image_path=sk_img_url+"images/instagram-profile/"+identifier+".jpg";var profile_image=data.bio.user_profile?data.bio.user_profile:image_path;sk_instagram_feed.find(".sk-popup-profile-image").attr("src",profile_image);sk_instagram_feed.find('div[data-image="'+identifier+'"]').css({"background-image":"url("+profile_image+")"});}
if(getDsmSetting(sk_instagram_feed,'layout')==3){data_storage[embed_id]=data.posts;skLayoutSliderSetting(sk_instagram_feed);applyCustomUi(jQuery,sk_instagram_feed);}
post_items+="</div>";}
sk_instagram_feed.find('video').trigger('pause');jQuery(document).on('click','#ModalClose-newsletter-popup',function(){jQuery('video').trigger('pause');setTimeout(function(){jQuery('video').trigger('pause');},50);});jQuery(document).on('click','newsletter-popup button',function(){jQuery('video').trigger('pause');setTimeout(function(){jQuery('video').trigger('pause');},50);});replaceContentWithLinks(jQuery('.sk-ig-profile-bio'));applyCustomUi(jQuery,sk_instagram_feed);setTimeout(function(){applyCustomUi(jQuery,sk_instagram_feed);},100);sk_increaseView(data.user_info);}
function removeTvCodeTemp(code){code=code.replace('https:/www.instagram.com/tv/','');code=code.replace('https:/www.instagram.com/tv/','');code=code.replace('/','');return code;}
function htmlEntities(str){return String(str).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');}
function getFeedItem(val,sk_instagram_feed,data_position){if(!val.code){val.code=val.shortcode;}
val.code=removeTvCodeTemp(val.code);var view_on_instagram_text=getDsmSetting(sk_instagram_feed,"view_on_instagram_text");var character_limit=getDsmSetting(sk_instagram_feed,"character_limit");var show_icons=getDsmSetting(sk_instagram_feed,"show_icons");var links_clickable=getDsmSetting(sk_instagram_feed,"links_clickable");var follow_text=sk_instagram_feed.find('.follow_text').text();var post_items="";var post_title_hover="";if(getDsmSetting(sk_instagram_feed,"show_post_hover_title")&&val.pic_text){var pic_text=htmlEntities(val.pic_text);post_title_hover="title=\""+pic_text+"\"";}
var height_auto_class='';if(getSkSetting(sk_instagram_feed,'layout')==2){height_auto_class='sk-h-auto';}
post_items+="<div profile-pic-url='"+data_bio[embed_id].profile_pic_url_hd+"' class='"+height_auto_class+" sk-instagram-feed-item ' "+post_title_hover+" data-link='"+val.link+"' data-code = '"+val.code+"' data-type='"+val.pic_type+"' video-url='"+val.video_url+"'  data-position='"+data_position+"' data-username='"+data_bio[embed_id].username+"'><img onerror='handleImageError(this)' data-image='"+val.code+"' class='sk-img-sizer' src='"+val.image_url+"' style='display: none;width:100%;' />";if(val.pic_type=="video"){post_items+="<div class='sk-ig-play-btn'><i class='fa fa-play-circle' aria-hidden='true'></i></div>";}
else if(val.pic_type=="carousel"&&getDsmSetting(sk_instagram_feed,'show_carousel_icon')==1){post_items+="<span class='sk-ig-play-btn'><i class='fa fa fa-files-o' aria-hidden='true' style='font-size:20px; line-height:28px;'></i></span>";}
post_items+="<div class='sk-ig-post-hover display-none'>";if(val.pic_like_count_formatted){post_items+="<span class='m-r-15px'>";post_items+="<i class='fa fa-heart' aria-hidden='true'></i> <span class='sk-like-count'>"+val.pic_like_count_formatted+"</span>";post_items+="</span>";}
if(val.pic_comment_count_formatted){post_items+="<span>";post_items+="<i class='fa fa-comment' aria-hidden='true'></i> <span class='sk-comment-count'>"+val.pic_comment_count_formatted+"</span>";post_items+="</span>";}
post_items+="</div>";post_items+="<div data-image='"+val.code+"' style='background-size:cover; background-position:center; background-image:url("+val.image_url+");' class='sk-ig-post-img'></div>";if(getDsmSetting(sk_instagram_feed,"post_item_type")==1){post_items+="<div class='sk-ig-caption-container' style='background-color:#fff;'>";if(parseInt(val.pic_like_count_formatted)>0){post_items+="<span class='sk-ig-feed-m-r-15px'>";post_items+="<i class='fa fa-heart' aria-hidden='true'></i> "+val.pic_like_count_formatted;post_items+="</span>";}
if(getDsmSetting(sk_instagram_feed,"show_ago_value")==1){var now=moment();var post_date=moment(val.date_time_posted);var hoursDifference=now.diff(post_date,'hours');var daysDifference=now.diff(post_date,'days')+1;if(hoursDifference>23){post_items+="<span class='sk-ig-feed-m-r-15px sk-ago-data'>";post_items+=daysDifference+" days ago";post_items+="</span>";}else{post_items+="<span class='sk-ig-feed-m-r-15px sk-ago-data'>";post_items+=moment(val.date_time_posted).fromNow();post_items+="</span>";}}
var new_pic_text=val.pic_text?val.pic_text:'';var more_text=getDsmSetting(sk_instagram_feed,'more_text')?getDsmSetting(sk_instagram_feed,'more_text'):"more";if(new_pic_text&&new_pic_text.length>character_limit&&character_limit>0){new_pic_text=new_pic_text.substring(0,character_limit)+"<a>... "+more_text+"</a>";}
new_pic_text=new_pic_text.replace(/(\r\n|\n\r|\r|\n)/g," <br> ");post_items+="<div class='sk-ig-caption'>";if(getDsmSetting(sk_instagram_feed,'show_ig_icon')==1){post_items+="<a class='sk-view-on-ig-link float-right' data-code='"+val.code+"' href='"+val.link+"' target='_blank'>";post_items+="<i class='fa fa-instagram' aria-hidden='true'></i> ";post_items+="</a>";}
if(val.owner_username&&getDsmSetting(sk_instagram_feed,'show_post_username')==1){post_items+="<span class='href_status_trigger_container'>";post_items+="<label class='sk-ig-informative-username'>"+val.owner_username+" </label>";post_items+="</span>";}
if(new_pic_text){post_items+="<span class='href_status_trigger_container sk-ig-feed-m-t-10px sk-ig-pic-text sk-ig-text-"+val.code+"'>";post_items+=new_pic_text;post_items+="</span>";}
post_items+="</div>";post_items+="</div>";}
var show_info_container=getDsmSetting(sk_instagram_feed,"show_popup_profile_picture")==1||getDsmSetting(sk_instagram_feed,"show_pop_up_username")==1||getDsmSetting(sk_instagram_feed,"show_popup_follow_link")==1||getDsmSetting(sk_instagram_feed,"show_description")==1||getDsmSetting(sk_instagram_feed,"show_view_on_twitter_link")==1||getDsmSetting(sk_instagram_feed,"show_likes_count")==1||getDsmSetting(sk_instagram_feed,"show_comments_count")==1;var margin_auto_image="style='margin: 0px auto !important;'";var display_inline_grid="style='display: inline-grid !important;'";var spinner_left="style='left: 46.5% !important;'";if(show_info_container==1){margin_auto_image="";display_inline_grid="";spinner_left="";}
post_items+="<div class='white-popup mfp-hide sk-pop-ig-post' data-type="+val.pic_type+" data-code=\""+val.code+"\">";post_items+="<div style='width:100%; height: 100%;'>";post_items+="<div class='sk_popup_row sk-media-post-container-"+val.code+"' "+display_inline_grid+">";post_items+="<div class='sk_popup_column sk_popup_column_media' "+margin_auto_image+">";if(val.pic_type=='video'){if(original_data[embed_id].settings&&original_data[embed_id].settings.long_lived_user_access_token&&(!val.video_url||!val.video_url.includes('.jpg'))){post_items+="<div class='swiper-slide'>";post_items+="<video  class='ig_media' controls>";post_items+="<source src='"+val.video_url+"'>";post_items+="</video>";post_items+="</div>";}
else{post_items+="<div onclick=\"window.open('https://www.instagram.com/p/"+val.code+"/');\" class='sk-ig-play-btn'><i class='fa fa-play-circle' aria-hidden='true'></i></div>";post_items+="<img onerror='handleImageError(this)' data-image='"+val.code+"' img-url='"+val.image_url+"' src='"+val.image_url+"' class='ig_media sk-image-sizer' />";}}
else if(val.pic_type=='carousel'&&val.children&&val.children.length>0){post_items+='<div class="swiper-container swiper-container-single" >';post_items+='<div class="swiper-wrapper sk_loading_carousel">';val.children.forEach(function(element){if(element.media_type=="IMAGE"){post_items+="<div class='swiper-slide'><img onerror='handleImageError(this)' src='"+element.media_url+"' class='ig_media' style='height:auto; vertical-align: middle;object-fit: contain;'/></div>";}
if(element.media_type=="VIDEO"){post_items+="<div class='swiper-slide'><video src='"+element.media_url+"' class='ig_media' controls></video></div>";}});post_items+='</div>';post_items+='<div class="swiper-pagination"></div>';post_items+="<a href='#' class='swiper-button-next-single'>";post_items+="<i class='mfp-arrow mfp-arrow-right' aria-hidden='true'></i>";post_items+="</a>";post_items+="<a href='#' class='swiper-button-prev-single'>";post_items+="<i class='mfp-arrow mfp-arrow-left' aria-hidden='true'></i>";post_items+="</a>";post_items+='</div>';}
else{if(val.pic_type=='carousel'){post_items+="<span onclick=\"window.open('https://www.instagram.com/p/"+val.code+"/');\" class='sk-ig-play-btn'><i class='fa fa-files-o' aria-hidden='true'></i></span>";}
post_items+="<img onerror='handleImageError(this)' data-image='"+val.code+"' img-url='"+val.image_url+"' src='"+val.image_url+"' class='ig_media sk-image-sizer' />";}
post_items+="</div>";if(show_info_container==1){post_items+="<div class='sk_popup_column' >";post_items+="<div class='sk_popup_column_spacer'>";var sk_popup_column_body_height=90;if(getDsmSetting(sk_instagram_feed,"show_popup_profile_picture")==1||getDsmSetting(sk_instagram_feed,"show_pop_up_username")==1||getDsmSetting(sk_instagram_feed,"show_popup_follow_link")==1){sk_popup_column_body_height=100;post_items+="<div class='sk_popup_column_user'>";if(getDsmSetting(sk_instagram_feed,"show_popup_profile_picture")==1&&original_data[embed_id].bio.user_profile){post_items+="<img onerror='handleImageError(this)' class='sk-popup-profile-image' src='"+original_data[embed_id].bio.user_profile+"' data-image='"+original_data[embed_id].bio.username+"' />";}else if(getDsmSetting(sk_instagram_feed,"show_popup_profile_picture")==1&&original_data[embed_id].bio.profile_pic_url){post_items+="<img onerror='handleImageError(this)' class='sk-popup-profile-image' src='"+original_data[embed_id].bio.profile_pic_url+"' data-image='"+original_data[embed_id].bio.username+"' />";}
post_items+="<p>";if(getDsmSetting(sk_instagram_feed,"show_pop_up_username")==1){post_items+="<a class='href_status_trigger sk-instagram-feed-username' href='https://www.instagram.com/"+val.owner_username+"/' target='"+openLinkTab()+"'><span><b>"+val.owner_username+"</b></span></a><br>";}
if(getDsmSetting(sk_instagram_feed,"show_popup_follow_link")==1){post_items+="<a class='href_status_trigger sk-instagram-feed-follow-link' href='https://www.instagram.com/"+val.owner_username+"/' target='"+openLinkTab()+"'>"+follow_text+"</a>";}
post_items+="</p>";post_items+="</div>";}
post_items+="<div class='sk_popup_column_body'>";if(getDsmSetting(sk_instagram_feed,"show_description")==1){post_items+="<div class='sk_popup_column_body_content sk_popup_column_body_content_"+val.code+"'>";post_items+=val.pic_text==null?"":val.pic_text;post_items+="</div>";}
post_items+="</div>";post_items+="<div class='sk_popup_column_footer'>";if(parseInt(val.pic_like_count_formatted)>0&&getDsmSetting(sk_instagram_feed,"show_likes_count")==1){post_items+="<span>";post_items+="<i class='fa fa-heart' aria-hidden='true'></i> <span class='sk-like-count'>"+val.pic_like_count_formatted+"</span>";post_items+="</span>";}
if(parseInt(val.pic_comment_count_formatted)>0&&getDsmSetting(sk_instagram_feed,"show_comments_count")==1){post_items+="<span>";post_items+="<i class='fa fa-comment' aria-hidden='true'></i> <span class='sk-comment-count'>"+val.pic_comment_count_formatted+"</span>";post_items+="</span>";}
if(links_clickable==1){if(getDsmSetting(sk_instagram_feed,"show_view_on_twitter_link")==1){post_items+="<span class='sk-ig-pop-up-icon'>";post_items+="<a class='href_status_trigger' style='display: inline-table;' href='"+val.link+"' target='"+openLinkTab()+"'>";post_items+="<i class='line_break'></i>";if(show_icons==1){post_items+="<span style='font-family: FontAwesome !important;' aria-hidden='true'>&#xf16d;</span>";}
post_items+=view_on_instagram_text;post_items+="</a>";post_items+="</span>";}}
post_items+="</div>";post_items+="</div>";post_items+="</div>";}
post_items+="</div>";post_items+="</div>";post_items+="</div>";post_items+="</div>";return post_items;}
function alignSpinner(jQuery,sk_instagram_feed){var hover_width=sk_instagram_feed.find('.sk-instagram-feed-item').width();sk_instagram_feed.find('.sk-ig-post-hover .fa').css({'height':hover_width+'px','line-height':hover_width+'px'});}
function requestFeedData(sk_instagram_feed){var embed_id=getDsmEmbedId(sk_instagram_feed);var json_url=app_file_server_url+embed_id+".json?nocache="+(new Date()).getTime();jQuery.getJSON(json_url,function(data){original_data[embed_id]=data;if(!original_data[embed_id]||!original_data[embed_id].bio||original_data[embed_id].bio==null)
original_data[embed_id].bio={};if(data&&data.bio&&(data.bio.media||data.bio.posts_count)){loadFeed(sk_instagram_feed);}
else{if(original_data[embed_id]&&original_data[embed_id].user_info&&!widgetValidation(sk_instagram_feed,original_data[embed_id])){return;}
generateSolutionMessage(sk_instagram_feed,embed_id);}}).fail(function(e){generateSolutionMessage(sk_instagram_feed,embed_id);});}
function hidePopUp(){if(jQuery.magnificPopup){jQuery.magnificPopup.close();}}
function showDsmInstagramFeedPopUp(jQuery,content_src,clicked_element){jQuery('.sk_selected_ig_post').removeClass('sk_selected_ig_post');clicked_element.addClass('sk_selected_ig_post');var sk_instagram_feed=clicked_element.closest('.sk-instagram-feed');hidePopUp();if(typeof jQuery.magnificPopup==="undefined")
initManificPopupPlugin(jQuery);jQuery.magnificPopup.open({items:{src:content_src},'type':'inline',callbacks:{open:function(){jQuery(".mfp-wrap").animate({opacity:0},1);if(jQuery('.mfp-content .sk_popup_column_body_content').hasClass("linked")==false){replaceContentWithLinks(jQuery('.mfp-content .sk_popup_column_body_content'));}
jQuery('.mfp-content .sk_popup_column_body_content').addClass("linked");var post_html="";var prev_disabled="disabled";var next_disabled="disabled";if(clicked_element.next().length>0&&clicked_element.next().hasClass("sk-instagram-feed-item")==true){next_disabled="";}
if(clicked_element.prev().length>0&&clicked_element.prev().hasClass("sk-instagram-feed-item")==true){prev_disabled="";}
let btnClass=prev_disabled?"prev_sk_ig_feed_post display-none":'prev_sk_ig_feed_post';post_html+="<button class='"+btnClass+"'"+prev_disabled+">";post_html+="<i class='fa fa-chevron-left sk_prt_4px' aria-hidden='true'></i>";post_html+="</button>";btnClass=next_disabled?"next_sk_ig_feed_post display-none":'next_sk_ig_feed_post';post_html+="<button class='"+btnClass+"'"+next_disabled+">";post_html+="<i class='fa fa-chevron-right sk_plt_4px' aria-hidden='true'></i>";post_html+="</button>";jQuery('.mfp-content').prepend(post_html);var white_popup=jQuery('.mfp-content').find('.white-popup');if(white_popup.find('.sk-ig-play-btn').length>0){var left=(white_popup.find('.sk_popup_column_media').width()-60)/2;white_popup.find('.sk-ig-play-btn').css('left',left);}
if(white_popup.find('.sk_popup_column').length==1){white_popup.find('.sk_popup_row').css('display','block');white_popup.find('.sk_popup_row').css('height','auto');white_popup.find('.sk_popup_column').css('width','100%');white_popup.find('.sk_popup_column .fa-spinner').css('top','45%');white_popup.find('.sk_popup_column .ig_media').css('height','auto');white_popup.find('.sk_popup_column .ig_media').css('width','100%');}
white_popup.find('.sk_popup_column_body_content').css('font-size',getDsmSetting(sk_instagram_feed,"details_font_size")+'px');var line_height=parseInt(getDsmSetting(sk_instagram_feed,"details_font_size"))+4;white_popup.find('.sk_popup_column_body_content').css({"font-size":getDsmSetting(sk_instagram_feed,"details_font_size")+'px',"line-height":line_height+"px"});white_popup.find('.sk-instagram-feed-username').css('font-size',getDsmSetting(sk_instagram_feed,"details_font_size")+'px');white_popup.find('.sk_popup_column_user').css('font-size',getDsmSetting(sk_instagram_feed,"details_font_size")+'px');white_popup.find('.sk_popup_column_footer').css('font-size',getDsmSetting(sk_instagram_feed,"details_font_size")+'px');setTimeout(function(){if(white_popup.find('.sk-ig-play-btn').length>0){var left=(white_popup.find('.sk_popup_column_media').width()-60)/2;white_popup.find('.sk-ig-play-btn').css('left',left);}
white_popup.find('.sk_popup_column_body').mouseover(function(){var sk_popup_column_body_height=jQuery(this).height();var sk_popup_column_body_content_height=jQuery(this).find('.sk_popup_column_body_content').height();if(sk_popup_column_body_height<sk_popup_column_body_content_height){jQuery(this).css({'overflow':'hidden scroll'});}}).mouseout(function(){jQuery(this).css({'overflow':'hidden'});});white_popup.find('.sk_popup_column_user span').css({'font-size':getDsmSetting(sk_instagram_feed,'details_font_size'),});white_popup.css({'background':getDsmSetting(sk_instagram_feed,'pop_up_bg_color'),'color':getDsmSetting(sk_instagram_feed,'pop_up_font_color'),'font-size':getDsmSetting(sk_instagram_feed,'details_font_size'),});white_popup.find('.sk_popup_column,.sk_popup_column_body_content').css({'background':getDsmSetting(sk_instagram_feed,'pop_up_bg_color'),'color':getDsmSetting(sk_instagram_feed,'pop_up_font_color'),'font-size':getDsmSetting(sk_instagram_feed,'details_font_size'),});white_popup.find('.sk_popup_column a').css({'color':getDsmSetting(sk_instagram_feed,'pop_up_link_color'),});var H=white_popup.find('.sk_popup_column').height();initializeSwiperSingleSLider(clicked_element);var video_slide=jQuery('.mfp-content .sk-pop-ig-post .swiper-slide:first video.ig_media');if(jQuery('.mfp-content .sk-pop-ig-post video.ig_media').get(0)!==undefined&&video_slide.length){video_slide.get(0).play();}
jQuery('.mfp-content').find(".mfp-close").remove();jQuery('.mfp-content').prepend('<button title="Close (Esc)" type="button" class="mfp-close" style="right: 0px;">âœ–</button>');jQuery('.mfp-content').find(".mfp-close").css({"right":parseInt(jQuery('.mfp-content').find(".white-popup").css("marginRight"))+"px"});if(sk_instagram_feed.width()<=820){jQuery('.mfp-content').find(".mfp-close").css({"right":parseInt(jQuery('.mfp-content').find(".white-popup").css("marginRight"))+"px"});}
jQuery(".mfp-wrap").css({height:"0%"});setTimeout(function(){jQuery(".mfp-wrap").animate({opacity:1},100);jQuery(".mfp-wrap").css({height:"100%"});},5);},50);},close:function(){jQuery(".prev_sk_ig_feed_post, .next_sk_ig_feed_post").remove();jQuery('video').each(function(){jQuery(this)[0].pause();});}}});}
function initializeSwiperSingleSLider(clicked_element){var singleSwiper=new Swiper('.swiper-container-single.swiper-container',{slidesPerView:1,spaceBetween:30,effect:'fade',autoplay:3000,loop:false,pagination:{el:'.swiper-pagination',clickable:true,},navigation:{nextEl:'.swiper-button-next-single',prevEl:'.swiper-button-prev-single',},});singleSliderLayout();setTimeout(function(){singleSliderLayout();},1000);setTimeout(function(){singleSliderLayout();},2000);jQuery('.swiper-button-next-single').click({swiper:singleSwiper},skSliderSingleNextClickEvent);jQuery('.swiper-button-prev-single').click({swiper:singleSwiper},skSliderSinglePrevClickEvent);if(jQuery('.mfp-content .swiper-slide-active video.carousel-video').get(0)!==undefined){jQuery('.mfp-content .swiper-slide-active video.carousel-video').get(0).play();}}
function skSliderSingleNextClickEvent(){jQuery('.mfp-content .sk_popup_column .ig_media').css('width','100%');jQuery('video').each(function(){jQuery(this)[0].pause();});if(jQuery('.mfp-content .swiper-slide-active video.carousel-video').get(0)!==undefined){jQuery('.mfp-content .swiper-slide-active video.carousel-video').get(0).play();}}
function skSliderSinglePrevClickEvent(){jQuery('.mfp-content .sk_popup_column .ig_media').css('width','100%');jQuery('video').each(function(){jQuery(this)[0].pause();});if(jQuery('.mfp-content .swiper-slide-active video.carousel-video').get(0)!==undefined){jQuery('.mfp-content .swiper-slide-active video.carousel-video').get(0).play();}}
function singleSliderLayout(){var height=jQuery('.swiper-container-single img,.sk_loading_image img,.sk_loading_video video').innerHeight();if(jQuery('.mfp-content .sk_loading_image').length){height=jQuery('.mfp-content .sk_loading_image').height();jQuery('.mfp-content .sk_loading_image img').height(height);}
var type=jQuery('.white-popup').attr('data-type');var mfp_content=jQuery('.white-popup');var media_container=jQuery('.mfp-content .sk-media-post-pop-up');var media_height=media_container.find('img').height();if(media_container.find('img').length==0){media_height=media_container.find('video').height();}
if(type!='picture'){media_container.css('height',media_height+'px');}
media_container.css('height',media_height+'px');var _h=jQuery('.white-popup').find('.sk_popup_row:first').height();if(media_container.find('.swiper-slide-active').length>0){var height=media_container.find('.swiper-slide-active img,.swiper-slide-active video').height();var height=_h;media_container.css('height',height+'px');mfp_content.find('.sk-popup-container').css('height',height+'px');mfp_content.find('.sk-media-post-container').css('height',height+'px');mfp_content.find('.swiper-container').css('height',height+'px');mfp_content.find('.swiper-wrapper').css('height',height+'px');mfp_content.find('.swiper-slide').css('height',height+'px');mfp_content.find('.sk_loading_image img').css('height','auto');}}
function loadSliderLayout(sk_instagram_feed,data){var column_count=getDsmSetting(sk_instagram_feed,'column_count');column_count=parseInt(column_count);if(jQuery(document).width()<480){column_count=getDsmSetting(sk_instagram_feed,"mobile_column_count")?parseInt(getDsmSetting(sk_instagram_feed,"mobile_column_count")):1;}
else if(jQuery(document).width()<750){column_count=column_count>2?3:column_count;}
var post_items="<div class='sk-slider-container' style='display: block;position: relative;'>";post_items+="<button type='button' class='swiper-button-next ' style='pointer-events: all;'>";post_items+="<i class='sk-arrow sk-arrow-right'></i>";post_items+="</button>";post_items+="<button type='button' class='swiper-button-prev' style='pointer-events: all;'>";post_items+="<i class='sk-arrow sk-arrow-left'></i>";post_items+="</button>";post_items+="<div class='swiper-container swiper-layout-slider'>";post_items+="<div class='swiper-wrapper'>";var data_position=0;var data_slider=data_storage[embed_id];var pages=Math.ceil(data_slider.length/column_count);for(var slide=1;slide<=pages;slide++){post_items+="<div class='swiper-slide' >";post_items+="<div class='sk-ig-all-posts'>";var slide_data=getPaginationResult(sk_instagram_feed,data_slider,slide,column_count);jQuery.each(slide_data,function(key,val){if(typeof val!='undefined')
post_items+=getFeedItem(val,sk_instagram_feed,data_position);data_position++;});post_items+="</div>";post_items+="</div>";}
post_items+="</div>";post_items+="</div>";post_items+="</div>";return post_items;}
function getPaginationResult(sk_instagram_feed,post_data,page,column_count){var start=0;var end=parseInt(column_count);var multiplicand=page-1;var return_post_data=[];if(page!=1){start=multiplicand*end;end=start+end;}
if((end-1)>post_data.length){end=post_data.length;}
for(var i=start;i<end;i++){return_post_data.push(post_data[i]);}
return return_post_data;}
function skLayoutSliderSetting(sk_instagram_feed){var autoplay=false;var loop=false;if(getDsmSetting(sk_instagram_feed,"autoplay")==1){var delay=getDsmSetting(sk_instagram_feed,"delay")*1500;autoplay={delay:delay};loop=true;}
var swiper=new Swiper('.sk-instagram-feed .swiper-layout-slider.swiper-container',{loop:loop,autoplay:autoplay,navigation:{nextEl:'.sk-instagram-feed .swiper-button-next',prevEl:'.sk-instagram-feed .swiper-button-prev',},});}
function skLayoutSliderArrowUI(sk_instagram_feed){var arrow_background_color=getDsmSetting(sk_instagram_feed,"arrow_background_color");var arrow_color=getDsmSetting(sk_instagram_feed,"arrow_color");var arrow_opacity=getDsmSetting(sk_instagram_feed,"arrow_opacity");sk_instagram_feed.find(".swiper-button-prev i,.swiper-button-next i").mouseover(function(){jQuery(this).css({"opacity":"1","border-color":arrow_background_color,});}).mouseout(function(){jQuery(this).css({"border-color":arrow_color,"opacity":arrow_opacity});});sk_instagram_feed.find(".swiper-button-prev i,.swiper-button-next i").css({"border-color":arrow_color,"opacity":arrow_opacity,"color":arrow_color});var feed_h=sk_instagram_feed.find('.sk-instagram-feed-item .sk-ig-post-img').innerHeight();var feed_h_2=feed_h/2;sk_instagram_feed.find(".swiper-button-prev,.swiper-button-next").css({"top":feed_h_2+"px"});}
function makeResponsive(jQuery,sk_instagram_feed){var sk_instagram_feed_width=sk_instagram_feed.width();if(sk_instagram_feed_width<=320){}
else if(sk_instagram_feed_width<=481){}
else if(sk_instagram_feed_width<=641){}
else if(sk_instagram_feed_width<=961){}
else if(sk_instagram_feed_width<=1025){}
else if(sk_instagram_feed_width<=1281){}
else if(sk_instagram_feed_width>1281){}
if(getDsmSetting(sk_instagram_feed,"post_item_type")==1){if(getDsmSetting(sk_instagram_feed,'column_count')==1){sk_instagram_feed.find('.sk-ig-post-img').css({'background-size':'contain','background-repeat':'no-repeat'})}
var thisH=0;var maxHeight=0;jQuery(".sk-instagram-feed-item").each(function(){thisH=jQuery(this).outerHeight(true);if(thisH>maxHeight){maxHeight=thisH;}});jQuery(".sk-instagram-feed-item ").height(maxHeight);}}
function skChangeImageRatio(sk_instagram_feed,column_count,margin_between_images){var masonry_width="100%";if(column_count==4){masonry_width="25%";}
if(column_count==3){masonry_width="33.3%";}
if(column_count==2){masonry_width="50%";}
sk_instagram_feed.find(".sk-instagram-feed-item-sizer").css({"width":masonry_width});sk_instagram_feed.find('.sk-img-sizer').each(function(index,element){var _H=jQuery(element).height()+"px";jQuery(element).closest('.sk-instagram-feed-item').css({'width':masonry_width,'height':_H,});var sk_feed_item_w=jQuery(element).closest('.sk-instagram-feed-item').width()-(margin_between_images*2);jQuery(element).closest('div').css({'width':sk_feed_item_w,'height':'auto'});var sk_feed_item_h=parseInt(jQuery(element).closest('div .sk-instagram-feed-item').find('.sk-ig-post-img').height());sk_feed_item_h=sk_feed_item_h<100?350:sk_feed_item_h;var post_id=jQuery(element).closest('.sk-instagram-feed-item').attr("data-code");jQuery(element).closest('div').css({'height':sk_feed_item_h+'px',});jQuery(element).closest('.sk-instagram-feed-item').find('.sk-ig-post-hover').css({'width':sk_feed_item_w,'line-height':sk_feed_item_h,'height':sk_feed_item_h});jQuery(element).closest('.sk-instagram-feed-item').find('.sk-ig-post-img').css({'width':'100%',});if(post_id=="CjJGWSrI4pc"&&jQuery(document).width()>500){sk_feed_item_h=453;}else if(post_id=="CjJGWSrI4pc"&&jQuery(document).width()<=500){sk_feed_item_h=253;}
jQuery(element).closest('.sk-instagram-feed-item').css({'height':sk_feed_item_h,'margin':margin_between_images+'px'});});var this_height=sk_instagram_feed.find('.sk-ig-post-img').height();sk_instagram_feed.find('.sk-ig-post-img').each(function(index,element){jQuery(element).css('height',(this_height+Math.floor(Math.random()*100))+'px');var post_id=jQuery(element).attr("data-code");if(post_id=="CjJGWSrI4pc"&&jQuery(document).width()>500){jQuery(element).css({'height':"403px",});}else if(post_id=="CjJGWSrI4pc"&&jQuery(document).width()<=500){jQuery(element).css({'height':"203px",});}});fixMasonry(sk_instagram_feed);}
function applyCustomUi(jQuery,sk_instagram_feed){sk_instagram_feed.closest("div.lp-element").css('height','auto');sk_instagram_feed.find(".loading-img").hide();var feed_width_item=sk_instagram_feed.find('.sk-instagram-feed-item').width();var sk_instagram_feed_width=feed_width_item==0?sk_instagram_feed.outerWidth(true).toFixed(0):sk_instagram_feed.outerWidth(true).toFixed(0)-8;var sk_instagram_post_container_width=sk_instagram_feed.find('.sk-ig-all-posts').width();sk_instagram_feed.css({'height':'auto','display':'block'});var column_count=sk_instagram_feed.find('.column_count').text();if(getDsmSetting(sk_instagram_feed,"layout")==3){sk_instagram_feed_width=sk_instagram_feed.find('.sk-ig-all-posts').width();sk_instagram_feed.find('.sk-ww-ig-feed-container').css({'padding-bottom':'10px'});}
if(jQuery(document).width()<=320||jQuery(document).width()<=481||jQuery(document).width()<=641){column_count=2;if((getDsmSetting(sk_instagram_feed,"column_count")==1||jQuery(document).width()<=430)){column_count=1;}}
if(sk_instagram_feed_width<=520){column_count=getDsmSetting(sk_instagram_feed,"mobile_column_count")?parseInt(getDsmSetting(sk_instagram_feed,"mobile_column_count")):1;}
var border_size=0;var space_between_images=parseFloat(getDsmSetting(sk_instagram_feed,'space_between_images'));var margin_between_images=parseFloat(parseFloat(space_between_images).toFixed(2)/2);var scroll_width=getScrollbarWidth();var pic_width=parseFloat((sk_instagram_post_container_width/column_count)-(space_between_images));pic_width=parseFloat(pic_width);var font_family=sk_instagram_feed.find('.font_family').text();var details_bg_color=sk_instagram_feed.find('.details_bg_color').text();var details_font_color=sk_instagram_feed.find('.details_font_color').text();var details_link_color=sk_instagram_feed.find('.details_link_color').text();var details_link_hover_color=sk_instagram_feed.find('.details_link_hover_color').text();var button_bg_color=sk_instagram_feed.find('.button_bg_color').text();var button_text_color=sk_instagram_feed.find('.button_text_color').text();var button_hover_bg_color=sk_instagram_feed.find('.button_hover_bg_color').text();var button_hover_text_color=sk_instagram_feed.find('.button_hover_text_color').text();setTimeout(function(){sk_instagram_feed.find('.sk-instagram-feed-item').css('background-image','none');},500);setTimeout(function(){sk_instagram_feed.find('.sk-instagram-feed-item').css('background-image','none');},1000);if(getSkSetting(sk_instagram_feed,'layout')==1){sk_instagram_feed.find('.sk-ig-all-posts').css({'padding':'3px'});}
if(getSkSetting(sk_instagram_feed,'layout')==2){setTimeout(function(){skChangeImageRatio(sk_instagram_feed,column_count,margin_between_images);},500);}
else{sk_instagram_feed.find('.sk-instagram-feed-item').css({'width':pic_width+'px','margin':margin_between_images+'px','padding':border_size});}
var profile_username=getDsmSetting(sk_instagram_feed,"title_all_caps")==1?"uppercase":"normal";sk_instagram_feed.find('.sk-ig-profile-usename').css({'text-transform':profile_username,'font-size':getDsmSetting(sk_instagram_feed,"title_font_size")+'px'});var profile_username=getDsmSetting(sk_instagram_feed,"details_all_caps")==1?"uppercase":"normal";sk_instagram_feed.find('.sk-ig-profile-info').css({'text-transform':profile_username,'font-size':getDsmSetting(sk_instagram_feed,"details_font_size")+'px'});var post_content_padding=parseInt(getDsmSetting(sk_instagram_feed,'post_content_padding'));post_content_padding=post_content_padding?post_content_padding:30;if(sk_instagram_feed_width<520){post_content_padding-=10;}
sk_instagram_feed.find('.sk-ig-caption').css({'font-size':getDsmSetting(sk_instagram_feed,"details_font_size")+'px','padding':post_content_padding+'px'});sk_instagram_feed.find('.sk-ago-data').css({'font-size':getDsmSetting(sk_instagram_feed,"details_font_size")+'px'});sk_instagram_feed.find('.sk_popup_column_spacer').css({'padding':post_content_padding+'px'});sk_instagram_feed.find('.sk_popup_column_footer').css({'bottom':post_content_padding+'px'});jQuery('.sk-ig-post-meta').css({'text-transform':profile_username});var hover_width=sk_instagram_feed.find('.sk-instagram-feed-item').width();var hover_height=sk_instagram_feed.find('.sk-ig-post-img').height();if(getDsmSetting(sk_instagram_feed,"show_post_hover")==1){sk_instagram_feed.find('.sk-ig-post-hover').css({'width':hover_width+'px','margin':0,'padding':0,'line-height':hover_width+'px',});}else{sk_instagram_feed.find('.sk-ig-post-hover').css({'width':hover_width+'px','height':hover_width+'px','margin':0,'padding':0,'line-height':hover_width+'px','background-color':'rgba(0, 0, 0, 0)','display':'none'});}
setTimeout(function(){var hover_height=sk_instagram_feed.find('.sk-ig-post-img').height();if(getDsmSetting(sk_instagram_feed,"show_post_hover")==1){sk_instagram_feed.find('.sk-ig-post-hover').css({'line-height':hover_height+'px',});}else{sk_instagram_feed.find('.sk-ig-post-hover').css({'height':hover_height+'px','line-height':hover_height+'px'});}},500);sk_instagram_feed.find('.sk-ig-post-hover .fa').css({'height':hover_width+'px','line-height':hover_width+'px'});sk_instagram_feed.find('.sk-ig-profile-usename').css({'width':'100%','text-align':getDsmSetting(sk_instagram_feed,"show_content_center")==1?'center':''});sk_instagram_feed.find('.sk-instagram-feed-item .sk-ig-post-img').css({'width':pic_width+'px','height':pic_width+'px'});if(getDsmSetting(sk_instagram_feed,'post_item_type')==1){sk_instagram_feed.find('.sk-instagram-feed-item .sk-ig-post-img').css({'border-top-left-radius':'8px','border-top-right-radius':'8px','border-bottom-left-radius':'0','border-bottom-right-radius':'0',});}
if(getDsmSetting(sk_instagram_feed,'disable_posts')==1){sk_instagram_feed.find('.sk-instagram-feed-item').css({"cursor":"unset"});}
sk_instagram_feed.css({'font-family':font_family,'background-color':details_bg_color});jQuery('.sk-pop-ig-post').css({'font-family':font_family});sk_instagram_feed.find('.instagram-user-root-container,.sk-ig-profile-usename,.sk-ig-caption, .sk-instagram-feed-item, .sk-ago-data').css({'color':details_font_color});sk_instagram_feed.find('.instagram-user-root-container a,.sk-ig-caption a').css({'color':details_link_color});sk_instagram_feed.find(".instagram-user-root-container a").mouseover(function(){jQuery(this).css({'color':details_link_hover_color});}).mouseout(function(){jQuery(this).css({'color':details_link_color});});sk_instagram_feed.find(".sk-ig-profile-bio").css({"white-space":"pre-line"});sk_instagram_feed.find(".sk-ig-bottom-btn-container").css({"display":"block","overflow":"hidden","margin":"0",});var margin_bottom_sk_ig_load_more_posts=space_between_images/2;if(margin_bottom_sk_ig_load_more_posts==0){margin_bottom_sk_ig_load_more_posts=3;}
sk_instagram_feed.find(".sk-ig-load-more-posts, .sk-ig-bottom-follow-btn").css({'margin-bottom':margin_bottom_sk_ig_load_more_posts+'px',});sk_instagram_feed.find(".instagram-user-container, .sk-ig-load-more-posts, .sk-ig-bottom-follow-btn").css({'background-color':button_bg_color,'border-color':button_bg_color,'color':button_text_color});sk_instagram_feed.find(".instagram-user-container, .sk-ig-load-more-posts, .sk-ig-bottom-follow-btn").mouseover(function(){jQuery(this).css({'background-color':button_hover_bg_color,'border-color':button_hover_bg_color,'color':button_hover_text_color});}).mouseout(function(){jQuery(this).css({'background-color':button_bg_color,'border-color':button_bg_color,'color':button_text_color});});var padding_sk_ig_bottom_btn_container=margin_between_images;if(padding_sk_ig_bottom_btn_container==0){padding_sk_ig_bottom_btn_container=5;}
sk_instagram_feed.find(".sk-ig-bottom-btn-container").css({'padding':padding_sk_ig_bottom_btn_container+'px'});jQuery('.sk-instagram-feed').removeClass('col-sm-3');sk_instagram_feed.find('.sk-fb-event-item, .sk_powered_by').css({'margin-bottom':getDsmSetting(sk_instagram_feed,"space_between_events")+'px'});applyPopUpColors(sk_instagram_feed);if(sk_instagram_feed.width()>550){sk_instagram_feed.css({'width':sk_instagram_feed_width,'display':'block'});}
if(getDsmSetting(sk_instagram_feed,'layout')==3){skLayoutSliderArrowUI(sk_instagram_feed);setTimeout(function(){skLayoutSliderArrowUI(sk_instagram_feed);},500);setTimeout(function(){skLayoutSliderArrowUI(sk_instagram_feed);},800);if(scroll_width>8){if(window.innerWidth<=480){jQuery(".swiper-button-next").css({"right":"2px"});}else if(window.innerWidth<=700){jQuery(".swiper-button-next").css({"right":"10px"});}}}
jQuery('head').append('<style type="text/css">'+getDsmSetting(sk_instagram_feed,"custom_css")+'</style>');makeResponsive(jQuery,sk_instagram_feed);setTimeout(function(){if(getDsmSetting(sk_instagram_feed,"links_clickable")==0){sk_instagram_feed.find('.href_status_trigger').removeAttr('href');sk_instagram_feed.find('.href_status_trigger_container').find('a').removeAttr('href');}},500);}
function applyPopUpColors(popup_container){var pop_up_bg_color=popup_container.find('.pop_up_bg_color').text();var pop_up_font_color=popup_container.find('.pop_up_font_color').text();var pop_up_link_color=popup_container.find('.pop_up_link_color').text();var details_font_size=popup_container.find('.details_font_size').text();popup_container.find('.sk-popup-container').css({'font-size':details_font_size,'color':pop_up_font_color,'background':pop_up_bg_color});popup_container.find('.white-popup a').css({'color':pop_up_link_color});var sk_media_post_pop_up=jQuery('.mfp-s-ready .sk-media-post-pop-up .ig_media').innerHeight();var sk_popup_user_container=jQuery('.mfp-s-ready .sk-popup-user-container').innerHeight();var sk_ig_feed_m_t_3px=jQuery('.mfp-s-ready .sk-ig-feed-m-t-3px').innerHeight();var sk_ig_pic_text=sk_media_post_pop_up-sk_popup_user_container-sk_ig_feed_m_t_3px-110;jQuery('.mfp-s-ready .sk-ig-pic-text').css('line-height',' 1.5');if(jQuery(window).innerWidth()>=700){jQuery('.mfp-s-ready .sk-ig-pic-text').css('max-height',sk_ig_pic_text);}
else{jQuery('.mfp-s-ready .sk-ig-pic-text').css('max-height','70000');}}
function loadGoogleFont(font_family){var web_safe_fonts=["Inherit","Impact, Charcoal, sans-serif","'Palatino Linotype', 'Book Antiqua', Palatino, serif","Century Gothic, sans-serif","'Lucida Sans Unicode', 'Lucida Grande', sans-serif","Verdana, Geneva, sans-serif","Copperplate, 'Copperplate Gothic Light', fantasy","'Courier New', Courier, monospace","Georgia, Serif"];if(!web_safe_fonts.includes(font_family)){try{loadCssFile("https://fonts.googleapis.com/css?family="+font_family);}catch(error){}}}
function readableNumber(number){number=parseInt(number);number=number?number.toLocaleString("en-US"):0;return number;}
function addDescriptiveTagAttributes(_sk,add_to_img=true){_sk.find('a').each(function(i,v){var title=jQuery(v).text();if(!jQuery(v).attr('title')){jQuery(v).attr('title',title);}});if(add_to_img){_sk.find('img').each(function(i,v){var src=jQuery(v).attr('src');jQuery(v).attr('alt','Post image');});}}
function getClientId(){var _gaCookie=document.cookie.match(/(^|[;,]\s?)_ga=([^;,]*)/);if(_gaCookie)return _gaCookie[2].match(/\d+\.\d+$/)[0];}
function getSkEmbedId(sk_class){var embed_id=sk_class.attr('embed-id');if(embed_id==undefined){embed_id=sk_class.attr('data-embed-id');}
return embed_id;}
function getSkSetting(sk_class,key){return sk_class.find("div."+key).text();}
function setCookieSameSite(){document.cookie="AC-C=ac-c;expires=Fri, 31 Dec 2025 23:59:59 GMT;path=/;HttpOnly;SameSite=Lax";}
function getIEVersion(){var sAgent=window.navigator.userAgent;var Idx=sAgent.indexOf("MSIE");if(Idx>0)
return parseInt(sAgent.substring(Idx+5,sAgent.indexOf(".",Idx)));else if(!!navigator.userAgent.match(/Trident\/7\./))
return 11;else
return 0;}
function isSafariBrowser(){var ua=navigator.userAgent.toLowerCase();if(ua.indexOf('safari')!=-1){if(ua.indexOf('chrome')>-1){return 0;}else{return 1;}}}
if(getIEVersion()>0||isSafariBrowser()>0){loadIEScript('https://cdn.jsdelivr.net/bluebird/3.5.0/bluebird.min.js');loadIEScript('https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.js');}
function loadIEScript(url){var scriptTag=document.createElement('script');scriptTag.setAttribute("type","text/javascript");scriptTag.setAttribute("src",url);(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(scriptTag);}
function kFormatter(num){return Math.abs(num)>999?Math.sign(num)*((Math.abs(num)/1000).toFixed(1))+'k':Math.sign(num)*Math.abs(num)}
function sk_increaseView(user_info){try{if(user_info&&user_info.status&&(user_info.status==1||user_info.status==6||user_info.status==7||user_info.status==13)){jQuery.getJSON('https://api.ipify.org?format=json',function(data){var update_views_url="https://views.sociablekit.com/api/widget-views/upsert?user_id="+user_info.id+"&url="+document.URL+"&ip_address="+data.ip+"&widget_id="+user_info.embed_id+"&user_status="+user_info.status;if(app_url.includes("local")&&sk_app_url){update_views_url="http://localhost:8019/api/widget-views/upsert?user_id="+user_info.id+"&url="+document.URL+"&ip_address="+data.ip+"&widget_id="+user_info.embed_id+"&user_status="+user_info.status;}
jQuery.ajax(update_views_url);});}}
catch(err){console.log("Error retrieving ip address.");}}
function isTooDarkColor(hexcolor){var r=parseInt(hexcolor.substr(1,2),16);var g=parseInt(hexcolor.substr(3,2),16);var b=parseInt(hexcolor.substr(4,2),16);if(hexcolor.indexOf('rgb')!=-1){let rgbstr=hexcolor;let v=getRGB(rgbstr);r=v[0];g=v[1];b=v[2];}
b=isNaN(b)?0:b;var yiq=((r*299)+(g*587)+(b*114))/1000;if(yiq<60){}
else{}
return yiq<60?true:false;}
function linkify(html){var temp_text=html.split("https://www.").join("https://");temp_text=temp_text.split("www.").join("https://www.");var exp=/((href|src)=["']|)(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;return temp_text.replace(exp,function(){return arguments[1]?arguments[0]:"<a href=\""+arguments[3]+"\">"+arguments[3]+"</a>"});}
function skGetEnvironmentUrls(folder_name){var scripts=document.getElementsByTagName("script");var scripts_length=scripts.length;var search_result=-1;var other_result=-1;var app_url="https://widgets.sociablekit.com/";var app_backend_url="https://api.accentapi.com/v1/";var app_file_server_url="https://data.accentapi.com/feed/";var sk_app_url="https://sociablekit.com/app/";var sk_api_url="https://api.sociablekit.com/";var sk_img_url="https://images.sociablekit.com/";var sk_fb_sync_url="https://facebook-sync.sociablekit.com/";for(var i=0;i<scripts_length;i++){var src_str=scripts[i].getAttribute('src');if(src_str!=null){var other_folder="";if(folder_name=='facebook-page-playlists'){other_folder='facebook-page-playlist';}
else if(folder_name=='linkedin-page-posts'){other_folder='linkedin-page-post';}
else if(folder_name=='linkedin-profile-posts'){other_folder='linkedin-profile-post';}
else if(folder_name=='facebook-hashtag-posts'){other_folder='facebook-hashtag-feed';}
else if(folder_name=='facebook-page-events'){other_folder='facebook-events';}
else if(folder_name=='facebook-page-posts'){other_folder='facebook-feed';if(document.querySelector(".sk-ww-facebook-feed")){var element=document.getElementsByClassName("sk-ww-facebook-feed")[0];element.classList.add("sk-ww-facebook-page-posts");}}
other_result=src_str.search(other_folder);search_result=src_str.search(folder_name);if(search_result>=1||other_result>=1){var src_arr=src_str.split(folder_name);app_url=src_arr[0];app_url=app_url.replace("displaysocialmedia.com","sociablekit.com");if(app_url.search("local")>=1){app_backend_url="http://localhost:3000/v1/";app_url="https://localtesting.com/SociableKIT_Widgets/";app_file_server_url="https://localtesting.com/SociableKIT_FileServer/feed/";sk_app_url="https://localtesting.com/SociableKIT/";sk_api_url="http://127.0.0.1:8000/";sk_img_url="https://localtesting.com/SociableKIT_Images/";sk_fb_sync_url="https://localtesting.com/SociableKIT_Facebook_Sync/";}
else{app_url="https://widgets.sociablekit.com/";}}}}
return{"app_url":app_url,"app_backend_url":app_backend_url,"app_file_server_url":app_file_server_url,"sk_api_url":sk_api_url,"sk_app_url":sk_app_url,"sk_img_url":sk_img_url,"sk_fb_sync_url":sk_fb_sync_url};}
function changeBackSlashToBR(text){if(text){for(var i=1;i<=10;i++){text=text.replace('\n','</br>');}}
return text;}
function sKGetScrollbarWidth(){var outer=document.createElement('div');outer.style.visibility='hidden';outer.style.overflow='scroll';outer.style.msOverflowStyle='scrollbar';document.body.appendChild(outer);var inner=document.createElement('div');outer.appendChild(inner);var scrollbarWidth=(outer.offsetWidth-inner.offsetWidth);outer.parentNode.removeChild(outer);return scrollbarWidth;}
function isValidURL(url){const urlPattern=/^(http(s)?:\/\/)?(www\.)?[a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)$/;return urlPattern.test(url);}
async function showUrlData(element,url,post_id,type="",show_thumbnail=1){element.hide();var check_url=url&&url.includes('&')?encodeURIComponent(url):url;var free_data_url=app_file_server_url.replace("feed/","get_fresh_url_tags.php")+'?post_id='+post_id+'&url='+check_url;var read_one_url=app_file_server_url.replace("feed","url-tags")+post_id+".json";if(jQuery('.sk_version').text()){read_one_url+="?v="+jQuery('.sk_version').text();}
fetch(read_one_url,{method:'get',cache:'no-cache'}).then(async response=>{if(response.ok){let data=await response.json();if(data&&data.status&&data.status==418){displayUrlData(data,element,type,show_thumbnail,post_id);data=await jQuery.ajax(free_data_url);}
return data;}
else{response=await jQuery.ajax(free_data_url);displayUrlData(response,element,type,show_thumbnail,post_id);return response;}}).then(async response=>{if(response!=undefined){displayUrlData(response,element,type,show_thumbnail,post_id);}else{response=await jQuery.ajax(free_data_url);displayUrlData(response,element,type,show_thumbnail,post_id);}}).catch(async error=>{var data=await jQuery.ajax(free_data_url);displayUrlData(data,element,type,show_thumbnail,post_id);});}
async function displayUrlData(response,element,type,show_thumbnail=1,post_id){var meta_holder=jQuery(element);var html="";if(!response||response.error){if(meta_holder.html()){meta_holder.show();}
return;}
if(response.message&&response.message=="Data not available. Please try again."){return;}
if(response.messages&&response.messages.length>0&&response.messages[0]=="PDF files that are over 10Mb are not supported by Google Docs Viewer"){var data=response.url;if(response.url){data=response.url.replace("https://","").split("/");}
if(data.length>0){if(data.length>1){response.title=data[data.length-1];}
response.description=data[0].replace("www.","");}}
if(post_id=="7059257055500492800"){response.url+="?id=122630";}
if((response.title&&response.title.includes("NCBI - WWW Error Blocked Diagnostic"))||(response.messages&&response.messages[1]&&response.messages[1].includes("profile badges"))||(response.messages&&response.messages[0]&&response.messages[0].includes("profiles except the badge"))){html+="<a href='"+meta_holder.data('link')+"' link-only target='_blank'>";html+="<div class='sk-link-article-container' style='background: #eeeeee;color: black !important; font-weight: bold !important; border-radius: 2px; border: 1px solid #c3c3c3; box-sizing: border-box; word-wrap: break-word;'>";if(show_thumbnail==1){html+="<image alt='No alternative text description for this image' class='sk-link-article-image sk_post_img_link' onerror='this.style.display=\"none\"' src='"+meta_holder.data('image')+"'/>";}
if((response.title&&response.title.includes("NCBI - WWW Error Blocked Diagnostic"))||(response.messages&&response.messages[1]&&response.messages[1].includes("profile badges"))||(response.messages&&response.messages[0]&&response.messages[0].includes("profiles except the badge"))){html+="<div class='sk-link-article-title' style='padding: 8px;'>"+meta_holder.data('title')+"</div>";}
html+="</div>";html+="</a>";}
else{html+="<a href='"+response.url+"' link-only target='_blank' style='text-decoration: none;'>";html+="<div class='sk-link-article-container' style='background: #eeeeee;color: black !important; font-weight: bold !important; border-radius: 2px; border: 1px solid #c3c3c3; box-sizing: border-box; word-wrap: break-word;'>";let attr_thumbnail=meta_holder.attr("data-img");if(show_thumbnail==1&&response.thumbnail_url){html+="<image alt='No alternative text description for this image' class='sk-link-article-image sk_post_img_link' onerror='this.style.display=\"none\"' src='"+response.thumbnail_url+"'/>";}else if(attr_thumbnail&&attr_thumbnail.length>0){html+="<image alt='No alternative text description for this image' class='sk-link-article-image sk_post_img_link' onerror='this.style.display=\"none\"' src='"+attr_thumbnail+"'/>";}
if(response.title){html+="<div class='sk-link-article-title' style='padding: 8px;'>"+response.title+"</div>";}
else if(response.url&&response.url.indexOf(".pdf")!=-1){html+=response.html;}
if(type&&type==6){if(response.description&&response.description.length>0){response.description=response.description.length>140?response.description.substring(0,140)+' ...':response.description;}}
if(response.description&&response.description.indexOf("[vc_row]")!==-1&&response.url){var pathArray=response.url.split('/');var protocol=pathArray[0];if(pathArray.length>2){var host=pathArray[2];var url=protocol+'//'+host;html+="<div class='sk-link-article-description' style='padding: 8px;color: grey;font-weight: 100;font-size: 14px;'>"+url+"</div>";}}
else if(response.description&&response.description.indexOf("fb_built")==-1&&response.description!="null"){if(response.url){var domain=new URL(response.url).hostname;response.description=domain;}
html+="<div class='sk-link-article-description' style='padding: 8px;color: #000000;font-weight: 100;font-size: 14px;'>"+response.description+"</div>";}
else if(response.url&&response.url.includes('instagram.com/p/')){html+="<image style='padding: 8px;' alt='No alternative text description for this image' class='sk-ig-default' onerror='this.style.display=\"none\"' src='https://i1.wp.com/sociablekit.com/wp-content/uploads/2019/01/instagram.png'/>";html+="<div class='sk-link-article-description' style='padding: 8px;margin-left:15%;color: #000000;font-weight: 600;font-size: 14px;'>View this post in instagram</div>";html+="<div class='sk-link-article-description' style='padding: 0px 8px ;margin-left:15%;margin-bottom:10px;color: #000000;font-weight: 100;font-size: 10px;'>"+response.url+"</div>";}
html+="</div>";html+="</a>";}
meta_holder.html(html);meta_holder.css('display','block');meta_holder.css('margin-bottom','15px');meta_holder.find('.sk-ig-default').closest('.sk-link-article-container').css('display','inline-block');meta_holder.find('.sk-ig-default').closest('.sk-link-article-container').css('width','100%');meta_holder.find('.sk-ig-default').css('width','20%');meta_holder.find('.sk-ig-default').css('float','left');applyMasonry();}
window.handleImageError=function(element){element.style.display='none';};function slugifyString(str){str=str.replace(/^\s+|\s+$/g,'');str=str.toLowerCase();var from="ÃÃ„Ã‚Ã€ÃƒÃ…ÄŒÃ‡Ä†ÄŽÃ‰ÄšÃ‹ÃˆÃŠáº¼Ä”È†ÃÃŒÃŽÃÅ‡Ã‘Ã“Ã–Ã’Ã”Ã•Ã˜Å˜Å”Å Å¤ÃšÅ®ÃœÃ™Ã›ÃÅ¸Å½Ã¡Ã¤Ã¢Ã Ã£Ã¥ÄÃ§Ä‡ÄÃ©Ä›Ã«Ã¨Ãªáº½Ä•È‡Ã­Ã¬Ã®Ã¯ÅˆÃ±Ã³Ã¶Ã²Ã´ÃµÃ¸Ã°Å™Å•Å¡Å¥ÃºÅ¯Ã¼Ã¹Ã»Ã½Ã¿Å¾Ã¾ÃžÄÄ‘ÃŸÃ†aÂ·/_,:;";var to="AAAAAACCCDEEEEEEEEIIIINNOOOOOORRSTUUUUUYYZaaaaaacccdeeeeeeeeiiiinnooooooorrstuuuuuyyzbBDdBAa------";for(var i=0,l=from.length;i<l;i++){str=str.replace(new RegExp(from.charAt(i),'g'),to.charAt(i));}
str=str.replace(/[^a-z0-9 -]/g,'').replace(/\s+/g,'-').replace(/-+/g,'-');return str;}
function getTutorialLinkNew(user_info){const d=new Date(user_info.created_at);let date=d.getDate()
var tutorial_link="";if(user_info.solution_name){var slugify_string=slugifyString(user_info.solution_name);tutorial_link="https://www.sociablekit.com/tutorials/embed-"+slugify_string+"-website/";if(user_info.website_builder){tutorial_link="https://www.sociablekit.com/tutorials/embed-"+slugify_string;slugify_string=slugifyString(user_info.website_builder);tutorial_link=tutorial_link+"-"+slugify_string;}}
if(date%5==0){}
else if(user_info.type==4){tutorial_link="https://www.sociablekit.com/tutorials/embed-facebook-feed-website/ ";}
else if(user_info.type==5){tutorial_link="https://www.sociablekit.com/tutorials/embed-instagram-feed-website/";}
else if(user_info.type==33){tutorial_link="https://www.sociablekit.com/tutorials/embed-linkedin-feed-website/";}
else if(user_info.type==16){tutorial_link="https://www.sociablekit.com/tutorials/embed-youtube-playlist-website/";}
return tutorial_link;}
function getTutorialLink(user_info){var tutorial_link="";if(user_info.solution_name){var slugify_string=slugifyString(user_info.solution_name);tutorial_link="https://www.sociablekit.com/tutorials/embed-"+slugify_string+"-website/";if(user_info.website_builder){tutorial_link="https://www.sociablekit.com/tutorials/embed-"+slugify_string;slugify_string=slugifyString(user_info.website_builder);tutorial_link=tutorial_link+"-"+slugify_string;}}
if(user_info.type==9){tutorial_link="https://www.sociablekit.com/sync-facebook-page-events-to-google-calendar/";}
else if(user_info.type==26){tutorial_link="https://www.sociablekit.com/how-to-sync-facebook-group-events-to-google-calendar-on-website/";}
if(tutorial_link&&tutorial_link.endsWith("/")==false){tutorial_link=tutorial_link+"/";}
var linkedin_widgets=[33,34,44,58,75,99,100,103];var facebook_widgets=[1,4,9,10,11,36,38,43,12,24,26,49,2,8,3,18,19,28,30,61];var threads_widgets=[110];if(linkedin_widgets.includes(user_info.type)&&user_info.embed_id%2==1){var website_builder="website";if(user_info.website_builder){website_builder=slugifyString(user_info.website_builder);}
tutorial_link="https://www.sociablekit.com/tutorials/embed-linkedin-feed-"+website_builder+"/";}
else if(facebook_widgets.includes(user_info.type)&&user_info.embed_id%2==1){var website_builder="website";if(user_info.website_builder){website_builder=slugifyString(user_info.website_builder);}
tutorial_link="https://www.sociablekit.com/tutorials/embed-facebook-feed-"+website_builder+"/";}
else if(threads_widgets.includes(user_info.type)&&user_info.embed_id%2==0){var website_builder="website";if(user_info.website_builder){website_builder=slugifyString(user_info.website_builder);}
tutorial_link="https://www.sociablekit.com/tutorials/embed-threads-"+website_builder+"/";}
if(user_info.type==5&&user_info.embed_id%2==1){tutorial_link=tutorial_link.replace("profile","feed");}
return tutorial_link;}
function skGetBranding(sk_,user_info){var linkedin_widgets=[33,34,44,58,75,99,100,103];var facebook_widgets=[1,4,9,10,11,36,38,43,12,24,26,49,2,8,3,18,19,28,30,61];var threads_widgets=[110];sk_.find('.sk_branding').remove();sk_.find('div.user_email').remove();var html="";if(!user_info){return;}
if(user_info.created_at_ymd&&user_info.created_at_ymd>20240725){user_info.tutorial_link=getTutorialLinkNew(user_info);}
else{user_info.tutorial_link=getTutorialLink(user_info);}
if(user_info.show_branding&&(user_info.show_branding==1||user_info.show_branding=="true")||user_info.show_branding==true){var fontFamily=getSkSetting(sk_,"font_family");var link_color=getSkSetting(sk_,"details_link_color");var details_bg_color=getSkSetting(sk_,"details_bg_color");if(link_color==""){link_color="rgb(52, 128, 220)";}
if(details_bg_color&&isTooDarkColor(link_color)==false&&isTooDarkColor(details_bg_color)==false){link_color='#3480dc';}
var nofollow_attribute="";if(window.location.href.includes("clean-concept-plus")){nofollow_attribute="rel='nofollow'";}
html+="<div class='sk_branding' style='padding:10px; display:block !important; text-align:center; text-decoration: none !important; color:#555; font-family:"+fontFamily+"; font-size:15px;'>";html+="<a "+nofollow_attribute+" class='tutorial_link' href='"+user_info.tutorial_link+"' target='_blank' style='text-underline-position:under; color:"+link_color+";font-size:15px;'>";if(linkedin_widgets.includes(user_info.type)&&user_info.embed_id%2==1){html+="Embed LinkedIn Feed on your ";if(user_info.website_builder&&user_info.website_builder!="Website"){html+=user_info.website_builder;}}else if(facebook_widgets.includes(user_info.type)&&user_info.embed_id%2==1){html+="Embed Facebook Feed on your ";if(user_info.website_builder&&user_info.website_builder!="Website"){html+=user_info.website_builder;}}else{html+="Embed "+user_info.solution_name+" on your ";if(user_info.website_builder&&user_info.website_builder!="Website"){html+=user_info.website_builder;}}
html+=" website";html+="</a>";html+="</div>";}
return html;}
function getRGB(rgbstr){return rgbstr.substring(4,rgbstr.length-1).replace(/ /g,'').replace('(','').split(',');}
function freeTrialEndedMessage(solution_info){var sk_error_message="<div class='sk_trial_ended_message'>";sk_error_message+="Customized feed is powered by <strong><a href='https://www.sociablekit.com/' target='_blank'>SociableKIT</a></strong>.<br>";sk_error_message+="If you're the owner of this website, your 7-day Free Trial has ended.<br>";sk_error_message+="If you want to continue using our services, please <strong><a target='_blank' href='https://www.sociablekit.com/app/users/subscription/subscription'>subscribe now</a></strong>.";sk_error_message+="</div>";return sk_error_message;}
function privateFBGroupMessage(){var sk_error_message="<div class='sk_trial_ended_message'>";sk_error_message+="<h2>The Facebook group is private, it must be <a target='_blank' href='https://www.facebook.com/community/using-key-groups-tools/understanding-your-privacy-settings/'>public</a>.</h2>";sk_error_message+="</div>";return sk_error_message;}
function isFreeTrialEnded(start_date){var start_date=new Date(start_date);var current_date=new Date();var difference=current_date.getTime()-start_date.getTime();difference=parseInt(difference/(1000*60*60*24));return difference>7?true:false;}
function unableToLoadSKErrorMessage(solution_info,additional_error_messages){var sk_error_message="<ul class='sk_error_message'>";sk_error_message+="<li><a href='"+solution_info.embed_id+"' target='_blank'>Customized "+solution_info.solution_name+" feed by SociableKIT</a></li>";console.log(solution_info);sk_error_message+="<li>Unable to load "+solution_info.solution_name+".</li>";for(var i=0;i<additional_error_messages.length;i++){sk_error_message+=additional_error_messages[i];}
sk_error_message+="<li>If you think there is a problem, <a target='_blank' href='https://go.crisp.chat/chat/embed/?website_id=2e3a484e-b418-4643-8dd2-2355d8eddc6b'>chat with support here</a>. We will solve it for you.</li>";sk_error_message+="</ul>";return sk_error_message;}
function widgetValidation(_sk,data){if(data.user_info){var user_info=data.user_info;user_info.trial_ended=false;user_info.show_feed=user_info.show_feed==="false"?false:true;if(user_info.status==7&&user_info.cancellation_date){var cancellation_date=new Date(user_info.cancellation_date).setHours(0,0,0,0);var current_date=new Date().setHours(0,0,0,0);user_info.show_feed=current_date>cancellation_date?false:true;var activation_date=new Date(user_info.activation_date).setHours(0,0,0,0);if(activation_date>cancellation_date){user_info.show_feed=true;}
if(!user_info.show_feed){var sk_error_message=generateBlueMessage(_sk,user_info);_sk.find(".first_loading_animation").hide();_sk.html(sk_error_message);return;}}
else if(user_info.status==2||user_info.status==10){user_info.show_feed=false;}
if(user_info.type==43||user_info.type==38||user_info.type==50){var sk_error_message="<div class='sk_error_message'>";sk_error_message+="<p style='text-align: center !important; margin: 1rem'>"+user_info.solution_name+" are currently unavailable, please choose another <a href='https://www.sociablekit.com/demos/' target='_blank'>widget here</a></p>";sk_error_message+="</div>";_sk.find(".first_loading_animation").hide();_sk.html(sk_error_message);return;}
else if(!user_info.show_feed){var sk_error_message=generateBlueMessage(_sk,user_info);_sk.find(".first_loading_animation").hide();_sk.html(sk_error_message);return;}
else if(user_info.widget_status==1){var sk_error_message=generateBlueMessage(_sk,user_info);_sk.find(".first_loading_animation").hide();_sk.html(sk_error_message);return;}
return user_info.show_feed;}}
function generateBlueMessage(_sk,user_info){var tutorial_link="";var sk_error_message="";if(user_info.solution_name){var slugify_string=slugifyString(user_info.solution_name);tutorial_link="https://www.sociablekit.com/tutorials/embed-"+slugify_string+"-website/";}
if(user_info.type==9){tutorial_link="https://www.sociablekit.com/sync-facebook-page-events-to-google-calendar/";}
else if(user_info.type==26){tutorial_link="https://www.sociablekit.com/how-to-sync-facebook-group-events-to-google-calendar-on-website/";}
if(user_info.widget_status==1){var sk_error_message="<div class='sk_error_message'>";sk_error_message+="<p style='text-align: center !important; margin: 1rem'> The widget does not exist. If you think this is a mistake, please contact support</a></p>";sk_error_message+="</div>";return sk_error_message;}
if(user_info.show_feed==false){if(!user_info.message||user_info.message==""){var sk_error_message="<ul class='sk_error_message'>";sk_error_message+="<li><a href='"+tutorial_link+"' target='_blank'>"+user_info.solution_name+" powered by SociableKIT</a></li>";sk_error_message+="<li>If youâ€™re the owner of this website or SociableKIT account used, we found some errors with your account.</li>";sk_error_message+="<li>Please login your SociableKIT account to fix it.</li>";sk_error_message+="</ul>";user_info.message=sk_error_message;}
sk_error_message=user_info.message;}
else if(user_info.solution_name==null&&user_info.type==null&&user_info.start_date==null){sk_error_message="<p class='sk_error_message'>";sk_error_message+="The SociableKIT solution does not exist. If you think this is a mistake, please contact support.";sk_error_message+="</p>";}
else{sk_error_message="<div class='sk_error_message'>";sk_error_message+="<div style='display: inline-flex;width:100%;'>";sk_error_message+="<div>";sk_error_message+="<h4>SociableKIT is currently syncing your <a href='"+tutorial_link+"' target='_blank'>"+user_info.solution_name+" widget.</a></h4>";sk_error_message+=`<svg width="480"height="20"><rect x="0"y="0"width="480"height="20"fill="#f0f0f0"rx="10"ry="10"/><pattern id="stripes"x="0"y="0"width="20"height="20"patternUnits="userSpaceOnUse"patternTransform="rotate(45)"><rect x="0"y="0"width="10"height="20"fill="#007bff"/></pattern><rect id="progressBar"x="0"y="0"width="0"height="20"fill="url(#stripes)"rx="10"ry="10"><animate attributeName="width"attributeType="XML"from="0"to="480"dur="2s"repeatCount="indefinite"/></rect></svg>`;sk_error_message+="<p>While waiting there are a few things you need to know:</p>";sk_error_message+="<ul>";sk_error_message+="<li>It usually takes only a few minutes. We appreciate your patience.</li>";sk_error_message+="<li>We will notify you via email once your "+user_info.solution_name+" feed is ready.</li>";if(user_info.type==5){sk_error_message+="<li>Make sure your instagram account <a target='_blank' href='https://www.instagram.com/"+getDsmSetting(_sk,'username')+"' target='_blank'><b>@"+getDsmSetting(_sk,'username')+"</b></a> is connected.</li>";}
else if(user_info.type==22||user_info.type==39){sk_error_message+="<li>Please make sure that you selected the correct Google Place or that the <a href='https://www.sociablekit.com/how-to-identify-google-place-id/' target='blank'><b> Google Place ID </b></a> you entered is correct.</li>";}
else if(user_info.type==101){sk_error_message+="<li>Please make sure that you have <a href='https://www.sociablekit.com/add-sociablekit-as-your-contact-on-whatsapp/' target='blank'><b> added SociableKIT as your contact on WhatsApp</b></a>.</li>";}
else{sk_error_message+="<li>Please make sure that the <b> Source ID/Username </b> you enter is correct.</li>";}
sk_error_message+="<li>If you think there is a problem, <a target='_blank' href='https://go.crisp.chat/chat/embed/?website_id=2e3a484e-b418-4643-8dd2-2355d8eddc6b'>chat with support here</a>. We will solve it for you.</li>";sk_error_message+="</ul>";sk_error_message+="</div>";sk_error_message+="</div>";sk_error_message+="</div>";}
return sk_error_message;}
function generateSolutionMessage(_sk,embed_id){var json_url=sk_api_url+"api/user_embed/info/"+embed_id;var sk_error_message="";jQuery.getJSON(json_url,function(data){if(data.type==1&&data.encoded==true){loadEvents(_sk);}
else if(data.type==44&&data.encoded==true){loadFeed(_sk);}
else if(data.type==58&&data.encoded==true){var no_data_text=_sk.find('.no_data_text').text();_sk.html("<div style='padding: 20px;text-align: center;'>"+no_data_text+"</div>");}
else if(data.type==67&&data.encoded==true){loadEvents(_sk);}
else if(data.type==74&&data.encoded==true){_sk.html("<div>No jobs yet, please try again later.</div>");}
else if((data.type==12||data.type==26||data.type==24||data.type==49)&&data.encoded==true){_sk.html(privateFBGroupMessage());}
else{var sk_error_message=generateBlueMessage(_sk,data);_sk.find(".first_loading_animation").hide();_sk.html(sk_error_message);}}).fail(function(e){console.log(e);});}
function copyInput(copy_button,copy_input){var copy_button_orig_html=copy_button.html();copy_input.select();try{var successful=document.execCommand('copy');var msg=successful?'successful':'unsuccessful';if(msg=='successful'){copy_button.html("<i class='fa fa-clipboard'></i> Copied!");setTimeout(function(){copy_button.html(copy_button_orig_html);},3000);}
else{alert('Copying text command was '+msg+'.');}}
catch(err){alert('Oops, unable to copy.');}}
function getDefaultLinkedInPageProfilePicture(profile_picture){if(profile_picture&&profile_picture.indexOf("data:image/gif")!=-1){profile_picture="https://gmalcilk.sirv.com/iamge.JPG";}
return profile_picture;}
function detectedSKDashboard(){let parent_url=(window.location!=window.parent.location)?document.referrer:document.location.href;if(parent_url&&(parent_url.indexOf("sociablekit.com")!=-1||parent_url.indexOf("local")!=-1)){return true;}
return false;}
function getSKDashboardPremiumTrialMessage(){var sk_error_message="";sk_error_message+="<ul class='sk_error_message'>";sk_error_message+="<li>Your 7-days premium trial has ended.</li>";sk_error_message+="<li>Please purchase a <a href='https://www.sociablekit.com/app/users/subscription/subscription?action=subscribe_now'>SociableKIT subscription plan</a> ";sk_error_message+="to save your widget customizations, save time with automatic sync, enjoy priority support, and get a 50% discount on any annual plans. Donâ€™t miss out!</li>";sk_error_message+="<li>You may also choose to <a href='https://help.sociablekit.com/en-us/article/how-to-activate-the-free-plan-1l3o0nt/'>activate the free plan</a> if you don't need our premium features.</li>";sk_error_message+="</ul>";return sk_error_message;}
function getSocialIcon(category)
{var post_items='';if(category.indexOf("Facebook")!=-1){post_items+="<svg class='sk-social-icon' version='1.1' xmlns='http://www.w3.org/2000/svg' width='24' height='28' viewBox='0 0 24 28'><path d='M19.5 2c2.484 0 4.5 2.016 4.5 4.5v15c0 2.484-2.016 4.5-4.5 4.5h-2.938v-9.297h3.109l0.469-3.625h-3.578v-2.312c0-1.047 0.281-1.75 1.797-1.75l1.906-0.016v-3.234c-0.328-0.047-1.469-0.141-2.781-0.141-2.766 0-4.672 1.687-4.672 4.781v2.672h-3.125v3.625h3.125v9.297h-8.313c-2.484 0-4.5-2.016-4.5-4.5v-15c0-2.484 2.016-4.5 4.5-4.5h15z'></path></svg>";}
else if(category.indexOf("Instagram")!=-1){post_items+="<svg class='sk-social-icon' version='1.1' xmlns='http://www.w3.org/2000/svg' width='24' height='28' viewBox='0 0 24 28'><path d='M16 14c0-2.203-1.797-4-4-4s-4 1.797-4 4 1.797 4 4 4 4-1.797 4-4zM18.156 14c0 3.406-2.75 6.156-6.156 6.156s-6.156-2.75-6.156-6.156 2.75-6.156 6.156-6.156 6.156 2.75 6.156 6.156zM19.844 7.594c0 0.797-0.641 1.437-1.437 1.437s-1.437-0.641-1.437-1.437 0.641-1.437 1.437-1.437 1.437 0.641 1.437 1.437zM12 4.156c-1.75 0-5.5-0.141-7.078 0.484-0.547 0.219-0.953 0.484-1.375 0.906s-0.688 0.828-0.906 1.375c-0.625 1.578-0.484 5.328-0.484 7.078s-0.141 5.5 0.484 7.078c0.219 0.547 0.484 0.953 0.906 1.375s0.828 0.688 1.375 0.906c1.578 0.625 5.328 0.484 7.078 0.484s5.5 0.141 7.078-0.484c0.547-0.219 0.953-0.484 1.375-0.906s0.688-0.828 0.906-1.375c0.625-1.578 0.484-5.328 0.484-7.078s0.141-5.5-0.484-7.078c-0.219-0.547-0.484-0.953-0.906-1.375s-0.828-0.688-1.375-0.906c-1.578-0.625-5.328-0.484-7.078-0.484zM24 14c0 1.656 0.016 3.297-0.078 4.953-0.094 1.922-0.531 3.625-1.937 5.031s-3.109 1.844-5.031 1.937c-1.656 0.094-3.297 0.078-4.953 0.078s-3.297 0.016-4.953-0.078c-1.922-0.094-3.625-0.531-5.031-1.937s-1.844-3.109-1.937-5.031c-0.094-1.656-0.078-3.297-0.078-4.953s-0.016-3.297 0.078-4.953c0.094-1.922 0.531-3.625 1.937-5.031s3.109-1.844 5.031-1.937c1.656-0.094 3.297-0.078 4.953-0.078s3.297-0.016 4.953 0.078c1.922 0.094 3.625 0.531 5.031 1.937s1.844 3.109 1.937 5.031c0.094 1.656 0.078 3.297 0.078 4.953z'></path></svg>";}
else if(category.indexOf("Linkedin")!=-1){post_items+="<svg class='sk-social-icon' version='1.1' xmlns='http://www.w3.org/2000/svg' width='24' height='28' viewBox='0 0 24 28'><path d='M3.703 22.094h3.609v-10.844h-3.609v10.844zM7.547 7.906c-0.016-1.062-0.781-1.875-2.016-1.875s-2.047 0.812-2.047 1.875c0 1.031 0.781 1.875 2 1.875h0.016c1.266 0 2.047-0.844 2.047-1.875zM16.688 22.094h3.609v-6.219c0-3.328-1.781-4.875-4.156-4.875-1.937 0-2.797 1.078-3.266 1.828h0.031v-1.578h-3.609s0.047 1.016 0 10.844v0h3.609v-6.062c0-0.313 0.016-0.641 0.109-0.875 0.266-0.641 0.859-1.313 1.859-1.313 1.297 0 1.813 0.984 1.813 2.453v5.797zM24 6.5v15c0 2.484-2.016 4.5-4.5 4.5h-15c-2.484 0-4.5-2.016-4.5-4.5v-15c0-2.484 2.016-4.5 4.5-4.5h15c2.484 0 4.5 2.016 4.5 4.5z'></path></svg>";}
else if(category.indexOf("Youtube")!=-1){post_items+="<svg class='sk-social-icon' version='1.1' xmlns='http://www.w3.org/2000/svg' width='28' height='28' viewBox='0 0 28 28'><path d='M11.109 17.625l7.562-3.906-7.562-3.953v7.859zM14 4.156c5.891 0 9.797 0.281 9.797 0.281 0.547 0.063 1.75 0.063 2.812 1.188 0 0 0.859 0.844 1.109 2.781 0.297 2.266 0.281 4.531 0.281 4.531v2.125s0.016 2.266-0.281 4.531c-0.25 1.922-1.109 2.781-1.109 2.781-1.062 1.109-2.266 1.109-2.812 1.172 0 0-3.906 0.297-9.797 0.297v0c-7.281-0.063-9.516-0.281-9.516-0.281-0.625-0.109-2.031-0.078-3.094-1.188 0 0-0.859-0.859-1.109-2.781-0.297-2.266-0.281-4.531-0.281-4.531v-2.125s-0.016-2.266 0.281-4.531c0.25-1.937 1.109-2.781 1.109-2.781 1.062-1.125 2.266-1.125 2.812-1.188 0 0 3.906-0.281 9.797-0.281v0z'></path></svg>";}
else if(category.indexOf("Google")!=-1){post_items+="<svg class='sk-social-icon' version='1.1' xmlns='http://www.w3.org/2000/svg' width='24' height='28' viewBox='0 0 24 28'><path d='M12 12.281h11.328c0.109 0.609 0.187 1.203 0.187 2 0 6.844-4.594 11.719-11.516 11.719-6.641 0-12-5.359-12-12s5.359-12 12-12c3.234 0 5.953 1.188 8.047 3.141l-3.266 3.141c-0.891-0.859-2.453-1.859-4.781-1.859-4.094 0-7.438 3.391-7.438 7.578s3.344 7.578 7.438 7.578c4.75 0 6.531-3.406 6.813-5.172h-6.813v-4.125z'></path></svg>";}
else if(category.indexOf("Twitter")!=-1){post_items+="<svg class='sk-social-icon' version='1.1' xmlns='http://www.w3.org/2000/svg' width='26' height='28' viewBox='0 0 26 28'><path d='M25.312 6.375c-0.688 1-1.547 1.891-2.531 2.609 0.016 0.219 0.016 0.438 0.016 0.656 0 6.672-5.078 14.359-14.359 14.359-2.859 0-5.516-0.828-7.75-2.266 0.406 0.047 0.797 0.063 1.219 0.063 2.359 0 4.531-0.797 6.266-2.156-2.219-0.047-4.078-1.5-4.719-3.5 0.313 0.047 0.625 0.078 0.953 0.078 0.453 0 0.906-0.063 1.328-0.172-2.312-0.469-4.047-2.5-4.047-4.953v-0.063c0.672 0.375 1.453 0.609 2.281 0.641-1.359-0.906-2.25-2.453-2.25-4.203 0-0.938 0.25-1.797 0.688-2.547 2.484 3.062 6.219 5.063 10.406 5.281-0.078-0.375-0.125-0.766-0.125-1.156 0-2.781 2.25-5.047 5.047-5.047 1.453 0 2.766 0.609 3.687 1.594 1.141-0.219 2.234-0.641 3.203-1.219-0.375 1.172-1.172 2.156-2.219 2.781 1.016-0.109 2-0.391 2.906-0.781z'></path></svg>";}
else if(category.indexOf("Twitch")!=-1){post_items+="<svg class='sk-social-icon' version='1.1' xmlns='http://www.w3.org/2000/svg' width='28' height='28' viewBox='0 0 28 28'><path d='M14 6.781v6.781h-2.266v-6.781h2.266zM20.219 6.781v6.781h-2.266v-6.781h2.266zM20.219 18.656l3.953-3.969v-12.422h-18.656v16.391h5.094v3.391l3.391-3.391h6.219zM26.437 0v15.828l-6.781 6.781h-5.094l-3.391 3.391h-3.391v-3.391h-6.219v-18.094l1.703-4.516h23.172z'></path></svg>";}
else if(category.indexOf("Yelp")!=-1){post_items+="<svg class='sk-social-icon' version='1.1' xmlns='http://www.w3.org/2000/svg' width='24' height='28' viewBox='0 0 24 28'><path d='M12.078 20.609v1.984c-0.016 4.406-0.016 4.562-0.094 4.766-0.125 0.328-0.406 0.547-0.797 0.625-1.125 0.187-4.641-1.109-5.375-1.984-0.156-0.172-0.234-0.375-0.266-0.562-0.016-0.141 0.016-0.281 0.063-0.406 0.078-0.219 0.219-0.391 3.359-4.109 0 0 0.016 0 0.938-1.094 0.313-0.391 0.875-0.516 1.391-0.328 0.516 0.203 0.797 0.641 0.781 1.109zM9.75 16.688c-0.031 0.547-0.344 0.953-0.812 1.094l-1.875 0.609c-4.203 1.344-4.344 1.375-4.562 1.375-0.344-0.016-0.656-0.219-0.844-0.562-0.125-0.25-0.219-0.672-0.266-1.172-0.172-1.531 0.031-3.828 0.484-4.547 0.219-0.344 0.531-0.516 0.875-0.5 0.234 0 0.422 0.094 4.953 1.937 0 0-0.016 0.016 1.313 0.531 0.469 0.187 0.766 0.672 0.734 1.234zM22.656 21.328c-0.156 1.125-2.484 4.078-3.547 4.5-0.359 0.141-0.719 0.109-0.984-0.109-0.187-0.141-0.375-0.422-2.875-4.484l-0.734-1.203c-0.281-0.438-0.234-1 0.125-1.437 0.344-0.422 0.844-0.562 1.297-0.406 0 0 0.016 0.016 1.859 0.625 4.203 1.375 4.344 1.422 4.516 1.563 0.281 0.219 0.406 0.547 0.344 0.953zM12.156 11.453c0.078 1.625-0.609 1.828-0.844 1.906-0.219 0.063-0.906 0.266-1.781-1.109-5.75-9.078-5.906-9.344-5.906-9.344-0.078-0.328 0.016-0.688 0.297-0.969 0.859-0.891 5.531-2.203 6.75-1.891 0.391 0.094 0.672 0.344 0.766 0.703 0.063 0.391 0.625 8.813 0.719 10.703zM22.5 13.141c0.031 0.391-0.109 0.719-0.406 0.922-0.187 0.125-0.375 0.187-5.141 1.344-0.766 0.172-1.188 0.281-1.422 0.359l0.016-0.031c-0.469 0.125-1-0.094-1.297-0.562s-0.281-0.984 0-1.359c0 0 0.016-0.016 1.172-1.594 2.562-3.5 2.688-3.672 2.875-3.797 0.297-0.203 0.656-0.203 1.016-0.031 1.016 0.484 3.063 3.531 3.187 4.703v0.047z'></path></svg>";}
else if(category.indexOf("Vimeo")!=-1){post_items+="<svg class='sk-social-icon' version='1.1' xmlns='http://www.w3.org/2000/svg' width='28' height='28' viewBox='0 0 28 28'><path d='M26.703 8.094c-0.109 2.469-1.844 5.859-5.187 10.172-3.469 4.484-6.375 6.734-8.781 6.734-1.484 0-2.734-1.375-3.75-4.109-0.688-2.5-1.375-5.016-2.063-7.531-0.75-2.734-1.578-4.094-2.453-4.094-0.187 0-0.844 0.391-1.984 1.188l-1.203-1.531c1.25-1.109 2.484-2.234 3.719-3.313 1.656-1.469 2.922-2.203 3.766-2.281 1.984-0.187 3.187 1.156 3.656 4.047 0.484 3.125 0.844 5.078 1.031 5.828 0.578 2.594 1.188 3.891 1.875 3.891 0.531 0 1.328-0.828 2.406-2.516 1.062-1.687 1.625-2.969 1.703-3.844 0.141-1.453-0.422-2.172-1.703-2.172-0.609 0-1.234 0.141-1.891 0.406 1.25-4.094 3.641-6.078 7.172-5.969 2.609 0.078 3.844 1.781 3.687 5.094z'></path></svg>";}
else if(category.indexOf("Trust")!=-1){post_items+="<svg class='sk-social-icon' version='1.1' xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'><path fill='#00b67a' d='M16 23.952l6.952-1.761 2.905 8.952zM32 12.381h-12.239l-3.761-11.524-3.761 11.524h-12.239l9.905 7.143-3.761 11.524 25.856-18.667z'></path></svg>";}
else if(category.indexOf("Spot")!=-1){post_items+="<svg class='sk-social-icon' version='1.1' xmlns='http://www.w3.org/2000/svg' width='24' height='28' viewBox='0 0 24 28'><path d='M17.609 18.906c0-0.438-0.172-0.609-0.469-0.797-2.016-1.203-4.359-1.797-6.984-1.797-1.531 0-3 0.203-4.484 0.531-0.359 0.078-0.656 0.313-0.656 0.812 0 0.391 0.297 0.766 0.766 0.766 0.141 0 0.391-0.078 0.578-0.125 1.219-0.25 2.5-0.422 3.797-0.422 2.297 0 4.469 0.562 6.203 1.609 0.187 0.109 0.313 0.172 0.516 0.172 0.391 0 0.734-0.313 0.734-0.75zM19.109 15.547c0-0.422-0.156-0.719-0.547-0.953-2.391-1.422-5.422-2.203-8.563-2.203-2.016 0-3.391 0.281-4.734 0.656-0.5 0.141-0.75 0.484-0.75 1s0.422 0.938 0.938 0.938c0.219 0 0.344-0.063 0.578-0.125 1.094-0.297 2.406-0.516 3.922-0.516 2.969 0 5.672 0.781 7.625 1.937 0.172 0.094 0.344 0.203 0.594 0.203 0.531 0 0.938-0.422 0.938-0.938zM20.797 11.672c0-0.578-0.25-0.875-0.625-1.094-2.703-1.578-6.406-2.312-9.938-2.312-2.078 0-3.984 0.234-5.688 0.734-0.438 0.125-0.844 0.5-0.844 1.156 0 0.641 0.484 1.141 1.125 1.141 0.234 0 0.453-0.078 0.625-0.125 1.516-0.422 3.156-0.578 4.797-0.578 3.25 0 6.625 0.719 8.797 2.016 0.219 0.125 0.375 0.187 0.625 0.187 0.594 0 1.125-0.469 1.125-1.125zM24 14c0 6.625-5.375 12-12 12s-12-5.375-12-12 5.375-12 12-12 12 5.375 12 12z'></path></svg>";}
return post_items;}
function isFontAwesomeLoaded(){var span=document.createElement('span');span.className='fa';span.style.display='none';document.body.insertBefore(span,document.body.firstChild);var font=css(span,'font-family');if(font.indexOf("fontawesome")==-1){return false;}
document.body.removeChild(span);return true;}
function css(element,property){let font=window.getComputedStyle(element,null).getPropertyValue(property);if(font){font=font.toLowerCase();return font.replace(/' '/g,"");}
return'na';}function readImageUrl(sk_class_,image,identifier,index,folder_name=false,version=null){var widget_version=sk_class_.find('div.widget_version').text();if(!sk_img_url){return;}
var image_thumbnail=encodeURIComponent(image);var image_url=sk_img_url.replace('feed/','')+"images/"+identifier+".jpg";if(folder_name){folder_name="images/"+folder_name;var image_url=sk_img_url.replace('feed/','')+folder_name+"/"+identifier+".jpg";}
if(widget_version&&widget_version=="update"){saveImageUrl(sk_class_,image_thumbnail,identifier,image_url,folder_name);return;}
fetch(image_url).then(function(response){if(status.status==200){displayImageData(sk_class_,identifier,image_url);}else{jQuery("<img>").attr('src',image_url).on('load',()=>displayImageData(sk_class_,identifier,image_url)).on('error',()=>saveImageUrl(sk_class_,image_thumbnail,identifier,image_url,folder_name));}}).catch(function(){saveImageUrl(sk_class_,image_thumbnail,identifier,image_url,folder_name);});}
function displayImageData(sk_class_,identifier,image_url){if(sk_class_.find('div.widget_version').text()){image_url=image_url+"?v="+sk_class_.find('div.widget_version').text();}
sk_class_.find('div[data-image="'+identifier+'"] img').attr('src',image_url);sk_class_.find('div[data-image="'+identifier+'"]').css({"background-image":"url("+image_url+")"});sk_class_.find('img[data-image="'+identifier+'"]').attr('src',image_url);}
function saveImageUrl(sk_class_,image_thumbnail,identifier,image_url,folder_name){var embed_id=getDsmEmbedId(sk_class_);if(!folder_name){folder_name='images';}
var sync_url=sk_img_url+'saving_image.php?file_name='+identifier+'&image_url='+image_thumbnail+'&folder='+folder_name+'&save_image=images';fetch(sync_url).then(function(){displayImageData(sk_class_,identifier,image_url);}).catch(function(){console.log("Cant save:",identifier)});}
function main(){function loadSettingsData(sk_instagram_feed,json_settings_url,json_feed_url){fetch(json_feed_url,{method:'get'}).then(function(response){var embed_id=getDsmEmbedId(sk_instagram_feed);if(!response.ok){loadSettingsData(sk_instagram_feed,json_settings_url,json_settings_url)
return;}
response.json().then(function(data){var settings_data=data;original_data[embed_id]=data;if(!original_data[embed_id]||!original_data[embed_id].bio||original_data[embed_id].bio==null)
original_data[embed_id].bio={};if(data.settings){settings_data=data.settings;}
if(!settings_data.type){loadSettingsData(sk_instagram_feed,json_settings_url,json_settings_url)
return;}
loadGoogleFont(settings_data.font_family);if(data.show_feed==false){sk_instagram_feed.prepend(data.message);sk_instagram_feed.find('.loading-img').hide();sk_instagram_feed.find('.first_loading_animation').hide();}
else{var settings=data;var settings_html="";settings_html+="<div class='display-none sk-twitter-settings' style='display:none;'>";jQuery.each(settings_data,function(key,value){settings_html+="<div class='"+key+"'>"+value+"</div>";});settings_html+="</div>";sk_instagram_feed.prepend(settings_html);settings_html="";if(data.settings){loadFeed(sk_instagram_feed);}
else{requestFeedData(sk_instagram_feed)}}});}).catch(function(err){loadSettingsData(sk_instagram_feed,json_settings_url,json_settings_url);});}
jQuery(document).ready(function($){jQuery('.sk-instagram-feed').each(function(index){var el=jQuery(this);var t=setTimeout(function(){var sk_instagram_feed=jQuery(el);var embed_id=getDsmEmbedId(sk_instagram_feed);var new_sk_instagram_feed_width=jQuery(window).height()+100;sk_instagram_feed.height(new_sk_instagram_feed_width);var json_settings_url=app_file_server_url.replace('feed','')+"settings/"+embed_id+"/settings.json?nocache="+(new Date()).getTime();var json_feed_url=app_file_server_url+embed_id+".json?nocache="+(new Date()).getTime();loadSettingsData(sk_instagram_feed,json_settings_url,json_feed_url);},300*index);});jQuery(document).on('click','.sk-instagram-feed .sk-instagram-feed-item',function(){var clicked_element=jQuery(this);var code=clicked_element.attr('data-code');var content_src=clicked_element.find('.sk-pop-ig-post:first');var show_pop_up=clicked_element.closest('.sk-instagram-feed').find('.show_pop_up').text();var disable_posts=clicked_element.closest('.sk-instagram-feed').find('.disable_posts').text();var open_link_in_new_tab=clicked_element.closest('.sk-instagram-feed').find('.open_link_in_new_tab').text();var link_name=open_link_in_new_tab==1?'_blank':'_parent';var link=clicked_element.attr('data-link');if(disable_posts==1){return;}
if(show_pop_up==0){window.open(link);}
else{current_position[embed_id]=clicked_element.attr('data-position');current_position[embed_id]=parseInt(current_position[embed_id]);showDsmInstagramFeedPopUp(jQuery,content_src,clicked_element);if(current_position[embed_id]==0){jQuery('.prev_sk_ig_feed_post').remove();}}
readFreshContent(clicked_element);});jQuery(document).on('click','.prev_sk_ig_feed_post',function(){var clicked_element=jQuery(this);var new_clicked_element=jQuery('.sk_selected_ig_post').prev('.sk-instagram-feed-item');var code=new_clicked_element.attr('data-code');var content_src=new_clicked_element.find('.sk-pop-ig-post:first');if(clicked_element.attr('disabled')){return;}
current_position[embed_id]=current_position[embed_id]-1;if(jQuery('.sk-instagram-feed .layout').text()==3||new_clicked_element.length==0){content_src=jQuery('.sk-pop-ig-post:eq('+current_position[embed_id]+')');new_clicked_element=jQuery('.sk-instagram-feed-item:eq('+current_position[embed_id]+')');}
showDsmInstagramFeedPopUp(jQuery,content_src,new_clicked_element);if(current_position[embed_id]==0){jQuery('.prev_sk_ig_feed_post').remove();}
readFreshContent(new_clicked_element);});jQuery(document).on('click','.next_sk_ig_feed_post',function(){var clicked_element=jQuery(this);clicked_element.html("<i class='fa fa-spinner fa-pulse' aria-hidden='true'></i>");var new_clicked_element=jQuery('.sk_selected_ig_post').next('.sk-instagram-feed-item');var code=new_clicked_element.attr('data-code');var content_src=new_clicked_element.find('.sk-pop-ig-post:first');current_position[embed_id]=current_position[embed_id]+1;if(jQuery('.sk-instagram-feed .layout').text()==3||new_clicked_element.length==0){content_src=jQuery('.sk-pop-ig-post:eq('+current_position[embed_id]+')');new_clicked_element=jQuery('.sk-instagram-feed-item:eq('+current_position[embed_id]+')');}
showDsmInstagramFeedPopUp(jQuery,content_src,new_clicked_element);var data_length=typeof data_storage[embed_id]?data_storage[embed_id].length:0;if(current_position[embed_id]+1==data_length){jQuery('.next_sk_ig_feed_post').remove();}
readFreshContent(new_clicked_element);});jQuery(document).on('click','.sk-instagram-feed .sk-ig-load-more-posts',function(){if(jQuery(this).attr('disabled')=="disabled"){return false;}
jQuery(this).attr('disabled','disabled');var current_btn=jQuery(this);var current_btn_text=current_btn.text();var sk_instagram_feed=jQuery(this).closest('.sk-instagram-feed');var embed_id=getDsmEmbedId(sk_instagram_feed);var end_of_posts_text=sk_instagram_feed.find('.end_of_posts_text').text();var view_on_instagram_text=sk_instagram_feed.find('.view_on_instagram_text').text();jQuery(this).html("<i class='fa fa-spinner fa-pulse' aria-hidden='true'></i>");setTimeout(function(){var post_items="";var data=original_data[embed_id];var enable_button=false;var old_last_key=last_key[embed_id];last_key[embed_id]=old_last_key+parseInt(getDsmSetting(sk_instagram_feed,'post_count'));for(var i=old_last_key;i<last_key[embed_id];i++){if(typeof data_storage[embed_id][i]!='undefined'){data_storage[embed_id][i].multi_hashtag=getDsmSetting(sk_instagram_feed,'enable_multiple_id')==1?true:false;data_storage[embed_id][i].show_post_hover=getDsmSetting(sk_instagram_feed,'show_post_hover');post_items+=getFeedItem(data_storage[embed_id][i],sk_instagram_feed);}}
if(data_storage[embed_id].length>last_key[embed_id]){enable_button=true;}
sk_instagram_feed.find('.sk-ig-all-posts').append(post_items);current_btn.html(current_btn_text);if(enable_button){sk_instagram_feed.find('.sk-ig-load-more-posts').show();}else{sk_instagram_feed.find('.sk-ig-load-more-posts').hide();}
current_btn.removeAttr('disabled');applyCustomUi(jQuery,sk_instagram_feed);setTimeout(function(){applyCustomUi(jQuery,sk_instagram_feed);},50);},300);});jQuery(document).on('click','.sk-instagram-feed .sk-watermark',function(){jQuery('.sk-instagram-feed .sk-message').slideToggle();});jQuery(document).on('click','.sk-instagram-feed .sk-view-on-ig-link',function(){var code=jQuery(this).attr('data-code');var link='http://instagram.com/p/'+code;window.open(link);return false;});jQuery(window).resize(function(){if(window.location.href.includes("downtownph")){return;}
jQuery('.sk-instagram-feed').each(function(){var sk_instagram_feed=jQuery(this);sk_instagram_feed.css({'width':'100%'});sk_instagram_feed.find(".sk-ww-ig-feed-container").remove();loadFeed(sk_instagram_feed);});});});}}(window,document));